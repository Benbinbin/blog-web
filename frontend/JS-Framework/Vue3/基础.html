<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <link rel="icon" href="/blog-web/images/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/katex.min.css"><title>Vue 3 åŸºç¡€ | Blog</title><meta name="description" content="A blog and knowledge management system about web.">
    <link rel="modulepreload" href="/blog-web/assets/app.43fe0c63.js"><link rel="modulepreload" href="/blog-web/assets/åŸºç¡€.html.0ea37c86.js"><link rel="modulepreload" href="/blog-web/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/blog-web/assets/åŸºç¡€.html.6f658c04.js">
    <link rel="stylesheet" href="/blog-web/assets/style.b42fd117.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="min-h-screen flex flex-col"><nav class="px-4 sm:px-8 py-2 flex justify-between items-center sticky top-0 z-30 bg-white"><div class="left flex items-center space-x-0.5"><!--[--><button class="text-gray-400 hover:bg-gray-100 catelog-btn p-2 select-none text-sm font-bold hover:text-gray-900 rounded-md lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button><!--]--><a class="avatar p-2 hover:bg-gray-100 rounded-md" href="/blog-web/#"><img src="/blog-web/images/avatar.png" alt="avatar" class="w-10 h-10 rounded-full"></a></div><div class="right hidden sm:flex items-center space-x-0.5"><!--[--><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">All</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Network</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Frontend</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Backend</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Project</button><!--]--><!--[--><button class="text-gray-900 bg-gray-100 hover:bg-gray-200 p-2 select-none text-sm font-bold hover:text-gray-900 rounded-md hidden lg:block"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button><!--]--></div><div class="more-container sm:hidden relative"><button style="" class="p-2 select-none hover:bg-gray-100 rounded-md text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg></button><button style="display:none;" class="p-2 select-none hover:bg-gray-100 rounded-md text-red-400 hover:text-red-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></button><div style="display:none;" class="more-modal p-2 absolute top-10 right-0 z-10 flex flex-col space-y-2 bg-gray-100 rounded-md opacity-90"><!--[--><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">All</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Network</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Frontend</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Backend</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Project</button><!--]--></div></div></nav><div class="relative flex-grow"><div class="theme-container no-navbar no-sidebar"><!--[--><!----><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="vue-3-åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#vue-3-åŸºç¡€" aria-hidden="true">#</a> Vue 3 åŸºç¡€</h1><p>ä»‹ç» Vue 3 çš„åŸºç¡€ä½¿ç”¨æ–¹æ³•ï¼Œä¸»è¦é’ˆå¯¹<mark>ä¸ Vue 2 çš„ä¸åŒç‚¹</mark>ã€‚</p><h2 id="å®‰è£…å¼•å…¥" tabindex="-1"><a class="header-anchor" href="#å®‰è£…å¼•å…¥" aria-hidden="true">#</a> å®‰è£…å¼•å…¥</h2><p>å¯ä»¥ä½¿ç”¨ CDN å¼•å…¥æœ€æ–°ç‰ˆçš„ Vue 3 æ¡†æ¶</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/vue@next<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ç„¶åå°±å¯ä»¥è®¿é—®æš´éœ²çš„ <code>Vue</code> å¯¹è±¡æˆ–å®ƒçš„æ–¹æ³• <code>createApp()</code> åˆ›å»º Vue å®ä¾‹ã€‚</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ npm å®‰è£…</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æœ€æ–°ç¨³å®šç‰ˆ</span>
$ <span class="token function">npm</span> <span class="token function">install</span> vue@next
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å¹¶åœ¨å…¥å£æ–‡ä»¶ <code>main.js</code> æˆ– <code>main.ts</code> ä¸­å¼•å…¥ Vueï¼ˆæˆ–ä»¥è§£æ„çš„æ–¹å¼å¼•å…¥ <code>createApp</code> å‡½æ•°ï¼‰</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–" aria-hidden="true">#</a> åˆå§‹åŒ–</h2><p>ä½¿ç”¨ <code>Vue</code> çš„<mark>æ–¹æ³• <code>.createApp()</code></mark> åˆ›å»ºä¸€ä¸ª Vue å®ä¾‹åº”ç”¨ï¼Œå®ƒæ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„å±æ€§å°±æ˜¯å…³äº<strong>æ ¹ç»„ä»¶</strong>çš„é…ç½®é€‰é¡¹ã€‚ç„¶åå†ä½¿ç”¨å®ä¾‹çš„æ–¹æ³• <code>.mount(el)</code> å°† Vue å®ä¾‹å…¶æŒ‚è½½åœ¨æŒ‡å®šçš„ DOM ä¸Šï¼Œè¿™æ ·å°±å°†æ•°æ®æ¸²æŸ“è¿›é¡µé¢ï¼Œè€Œä¸”æ˜¯<strong>å“åº”å¼</strong>çš„ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      conent<span class="token operator">:</span> <span class="token string">&#39;Hello World!&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  template<span class="token operator">:</span> <span class="token string">&#39;&lt;div&gt;{{ conent }}&lt;/div&gt;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><mark>è¢«æŒ‚è½½çš„åº”ç”¨å¹¶<a href="https://v3.vuejs.org/guide/migration/mount-changes.html" target="_blank" rel="noopener noreferrer"><strong>ä¸</strong>ä¼šæ›¿æ¢å…ƒç´ </a></mark>ï¼Œå³å½“æˆ‘ä»¬æŒ‚è½½ä¸€ä¸ªåº”ç”¨æ—¶ï¼Œå…¶æ¸²æŸ“å†…å®¹ä¼šæ›¿æ¢åœ¨ <code>mount(el)</code> ä¸­æŒ‡å®šçš„å…ƒç´ çš„ <code>innerHTML</code>ï¼ˆä½œä¸ºå­å…ƒç´ ï¼‰</p><p>ğŸ’¡ åº”ç”¨å®ä¾‹æš´éœ²çš„å¤§å¤šæ•°æ–¹æ³•éƒ½ä¼š<strong>è¿”å›è¯¥åŒä¸€å®ä¾‹</strong>ï¼Œå› æ­¤<mark>å…è®¸ä»¥<strong>é“¾å¼</strong>çš„æ–¹å¼å¯¹åŒä¸€å®ä¾‹è¿›è¡Œå¤šç§å…¨å±€é…ç½®</mark></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;SearchInput&#39;</span><span class="token punctuation">,</span> SearchInputComponent<span class="token punctuation">)</span> <span class="token comment">// æ³¨å†Œå…¨å±€ç»„ä»¶</span>
  <span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&#39;focus&#39;</span><span class="token punctuation">,</span> FocusDirective<span class="token punctuation">)</span> <span class="token comment">// æ³¨å†Œå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>LocalePlugin<span class="token punctuation">)</span> <span class="token comment">// ä½¿ç”¨æ’ä»¶</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ğŸ’¡ å½“ Vue å®ä¾‹æŒ‚è½½åˆ°é¡µé¢åï¼Œæ–¹æ³• <code>.mount()</code> è¿”å›çš„<strong>ä¸</strong>æ˜¯åº”ç”¨æœ¬èº«ï¼Œè€Œæ˜¯è¿”å›<strong>æ ¹ç»„ä»¶</strong>å®ä¾‹ï¼Œæ˜¯<mark>ä¸€ä¸ª <code>Proxy</code> å½¢å¼çš„å¯¹è±¡</mark>ï¼Œå®ƒå°±æ˜¯ mvvm è®¾è®¡æ¨¡å¼ä¸­çš„ <strong><code>vm</code> è§†å›¾æ•°æ®è¿æ¥å±‚</strong>ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            content<span class="token operator">:</span> <span class="token string">&#39;Hello World!&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    template<span class="token operator">:</span> <span class="token string">&#39;&lt;div&gt;{{ content }}&lt;/div&gt;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> vm <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>é€šè¿‡ç»„ä»¶å®ä¾‹æš´éœ²äº†ä¸€äº›ç»„ä»¶ç›¸å…³çš„ propertyï¼Œå¯ä»¥åœ¨ç»„ä»¶çš„æ¨¡æ¿ä¸­è®¿é—®è¿™äº›æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åœ¨ç»„ä»¶çš„é€‰é¡¹ä¸­è®¿é—®å®ƒä»¬ï¼Œç”šè‡³èƒ½å¤Ÿåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œåœ¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·çš„ç»ˆç«¯ä¸­è®¿é—®ã€‚<strong>è¿™äº› property éƒ½æœ‰ä¸€ä¸ª <code>$</code> å‰ç¼€</strong>ï¼Œä»¥é¿å…ä¸ç”¨æˆ·å®šä¹‰çš„ property åç§°å†²çªã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$data<span class="token punctuation">.</span>content<span class="token punctuation">)</span>

<span class="token comment">// å¦‚æœæ˜¯åœ¨ç»„ä»¶çš„ data é€‰é¡¹è¿˜å¯ä»¥ç›´æ¥è®¿é—®</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="æ¨¡æ¿è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#æ¨¡æ¿è¯­æ³•" aria-hidden="true">#</a> æ¨¡æ¿è¯­æ³•</h2><p>å°† Vue åº”ç”¨æŒ‚è½½åˆ° DOM ä»¥åï¼Œè¯¥èŠ‚ç‚¹å†…éƒ¨çš„ HTML å°±ä¼šæ”¯æŒæ¨¡æ¿è¯­æ³• Mustacheï¼Œå³ä½¿ç”¨<strong>åŒèŠ±æ‹¬å·</strong>åŒ…å«çš„éƒ¨åˆ†ï¼Œåœ¨å…¶ä¸­æ”¯æŒä½¿ç”¨<strong>å•ä¸ª JavaScript è¡¨è¾¾å¼</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> content <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ğŸ’¡ å¯ä»¥ä½¿ç”¨ <code>v-once</code> æŒ‡ä»¤æ‰§è¡Œä¸€æ¬¡æ€§çš„æ’å€¼ï¼Œå³åªå°†æ•°æ®çš„<strong>åˆå§‹å€¼</strong>æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œä¹‹åå°±ä¸ä¼šéšç€å˜é‡å€¼çš„æ”¹å˜è¿›è¡Œå“åº”å¼çš„æ›´æ–°ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-once</span><span class="token punctuation">&gt;</span></span>è¿™ä¸ªå°†ä¸ä¼šæ”¹å˜: {{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ğŸ’¡ ä½¿ç”¨ <code>v-html</code> æŒ‡ä»¤å¯ä»¥å°†æŒ‡ä»¤çš„å€¼ä½œä¸º HTML è¿›è¡Œæ¸²æŸ“ï¼Œä½œä¸ºè¯¥èŠ‚ç‚¹çš„ <code>innerHTML</code> å†…å®¹ï¼Œä½†<strong>ä¸èƒ½</strong>åœ¨å…¶ä¸­å†è¿›è¡Œæ•°æ®ç»‘å®šï¼ˆå³ <code>v-html</code> æŒ‡ä»¤çš„å€¼åªèƒ½æ˜¯é™æ€çš„ HTML å†…å®¹ï¼‰ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> RenderHtmlApp <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      rawHtml<span class="token operator">:</span> <span class="token string">&#39;&lt;span style=&quot;color: red&quot;&gt;This should be red.&lt;/span&gt;&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span>RenderHtmlApp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#example1&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Using v-html directive: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rawHtml<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>åŸæ¥é¡µé¢çš„ <code>&lt;span&gt;</code> å…ƒç´ çš„å†…å®¹å°†ä¼šè¢«æ›¿æ¢æˆä¸º <code>rawHtml</code> property çš„å€¼ï¼Œç›´æ¥ä½œä¸º HTMLï¼Œ<strong>ä¼šå¿½ç•¥è§£æ property å€¼ä¸­çš„æ•°æ®ç»‘å®š</strong>ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ <code>v-html</code> æ¥å¤åˆå±€éƒ¨æ¨¡æ¿ï¼Œå› ä¸º Vue ä¸æ˜¯åŸºäºå­—ç¬¦ä¸²çš„æ¨¡æ¿å¼•æ“ã€‚å¯¹äºç”¨æˆ·ç•Œé¢ç»„ä»¶ä¼šæ›´é€‚åˆä½œä¸ºå¯é‡ç”¨å’Œå¯ç»„åˆçš„åŸºæœ¬å•ä½ã€‚</p><h2 id="å±æ€§ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#å±æ€§ç»‘å®š" aria-hidden="true">#</a> å±æ€§ç»‘å®š</h2><p>åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨æŒ‡ä»¤ <code>v-bind</code> å°†<strong>æ ‡ç­¾çš„å±æ€§ä¸åŠ¨æ€æ•°æ®ç»‘å®š</strong>ï¼Œè¿™æ ·å°±å®ç°äº†<strong>æ•°æ®é©±åŠ¨ç”»é¢ï¼ˆæ ·å¼ï¼‰</strong>ã€‚</p><p>æŒ‡ä»¤ <code>v-bind:attrName=&quot;value&quot;</code> å¯ä»¥ç®€å†™ä¸º <code>:attrName=&quot;value&quot;</code>ï¼Œç»‘å®šçš„å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„ç­‰ã€‚</p><p>ğŸ’¡ å¯¹äºå±æ€§ <code>class</code> å’Œ <code>style</code> è¿™ä¸¤ä¸ªç‰¹æ®Šçš„å±æ€§ï¼ŒVue å¯¹è¿™ä¸¤ä¸ª attribute è¿›è¡Œç‰¹æ®Šä¼˜åŒ–å¢å¼ºï¼Œç»‘å®šçš„å€¼é™¤äº†å­—ç¬¦ä¸²ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æ˜¯å¯¹è±¡æˆ–æ•°ç»„ï¼Œè€Œä¸”å°†åŠ¨æ€ç»‘å®šçš„æ•°æ®<strong>ä¸è¯¥å±æ€§çš„é™æ€æ•°æ®è¿›è¡Œåˆå¹¶</strong>ï¼ˆè€Œå…¶ä»– attribute å°±æ˜¯ã€Œåç›–å‰ã€ï¼‰ã€‚</p><p>âš ï¸ å¦‚æœç»‘å®šçš„å€¼æ˜¯ <code>null</code> æˆ– <code>undefined</code>ï¼Œé‚£ä¹ˆè¯¥ attribute å°†ä¸ä¼šè¢«åŒ…å«åœ¨æ¸²æŸ“çš„å…ƒç´ ä¸Šã€‚</p><p>ğŸ’¡ å¯¹äºå¸ƒå°”å€¼çš„ attributeï¼ˆå®ƒä»¬åªè¦å­˜åœ¨å°±æ„å‘³ç€å€¼ä¸º <code>true</code>ï¼‰ï¼Œå³åªåœ¨ truthy æ—¶æ‰æ¸²æŸ“åœ¨å…ƒç´ ä¸Šï¼Œè€Œåœ¨ falsy æ—¶ä¸ä¼šè¢«æ¸²æŸ“ã€‚ä½†æ˜¯å¯¹äºå€¼ä¸º**ç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code>**çš„å±æ€§ï¼Œå®ƒä¹Ÿä¼šè¢«åŒ…æ‹¬åœ¨å†…ï¼Œè¿™æ˜¯ä¸ºäº†ä¸ <code>&lt;button disabled=&quot;&quot;&gt;</code> çš„å½¢å¼ä¿æŒä¸€è‡´ã€‚</p><h3 id="å­ç»„ä»¶-attribute-ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#å­ç»„ä»¶-attribute-ç»§æ‰¿" aria-hidden="true">#</a> å­ç»„ä»¶ Attribute ç»§æ‰¿</h3><p>å½“ç»„ä»¶è¿”å›å•ä¸ªæ ¹èŠ‚ç‚¹æ—¶ï¼Œé prop attribute å°†è‡ªåŠ¨æ·»åŠ åˆ°æ ¹èŠ‚ç‚¹çš„ attribute ä¸­ã€‚</p><p>ğŸ’¡ ä¸€ä¸ªé prop çš„ attribute æ˜¯æŒ‡ä¼ å‘ä¸€ä¸ªç»„ä»¶ï¼Œä½†æ˜¯è¯¥ç»„ä»¶å¹¶æ²¡æœ‰ç›¸åº” <a href="https://v3.cn.vuejs.org/guide/component-props" target="_blank" rel="noopener noreferrer">props</a> æˆ– <a href="https://v3.cn.vuejs.org/guide/component-custom-events.html#%E5%AE%9A%E4%B9%89%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">emits</a> å®šä¹‰çš„ attributeã€‚å¸¸è§çš„ç¤ºä¾‹åŒ…æ‹¬ <code>class</code>ã€<code>style</code> å’Œ <code>id</code> å±æ€§ã€‚</p><p>ğŸ’¡ å¦‚æœä½ <strong>ä¸</strong>å¸Œæœ›ç»„ä»¶çš„æ ¹å…ƒç´ ç»§æ‰¿ attributeï¼Œä½ å¯ä»¥åœ¨ç»„ä»¶çš„é€‰é¡¹ä¸­è®¾ç½® <code>inheritAttrs: false</code>ã€‚ç¦ç”¨ attribute ç»§æ‰¿çš„å¸¸è§æƒ…å†µæ˜¯éœ€è¦å°† attribute åº”ç”¨äºæ ¹èŠ‚ç‚¹ä¹‹å¤–çš„å…¶ä»–å…ƒç´ ã€‚</p><p>ç„¶åé€šè¿‡è®¿é—®ç»„ä»¶çš„ <code>$attrs</code> propertyï¼Œè¯¥ property åŒ…æ‹¬ç»„ä»¶ <code>props</code> å’Œ <code>emits</code> property ä¸­æœªåŒ…å«çš„æ‰€æœ‰å±æ€§ï¼Œå°†è¯¥ property æ‰‹åŠ¨ç»‘å®š <code>v-bind=&quot;$attrs&quot;</code> åˆ°æ‰€éœ€çš„èŠ‚ç‚¹ä¸Šï¼Œå°±å¯ä»¥å°†ç›¸åº”çš„ Attribute åº”ç”¨åˆ°è¯¥èŠ‚ç‚¹ã€‚</p><p><mark>åœ¨ Vue 3 ä¸­ <code>$attrs</code> åŒ…å«ä¼ é€’ç»™ç»„ä»¶çš„<em>æ‰€æœ‰</em> attributeï¼ŒåŒ…æ‹¬ <code>class</code> å’Œ <code>style</code>ã€‚</mark></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>app.component(&#39;date-picker&#39;, {
  inheritAttrs: false,
  template: `
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date-picker<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>datetime-local<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  `
})
</code></pre><div class="highlight-lines"><br><br><br><br><div class="highlight-line">Â </div><br><br><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ç”±äº Vue 3 æ”¯æŒç»„ä»¶æœ‰å¤šä¸ªæ ¹èŠ‚ç‚¹ï¼Œå¦‚æœç»„ä»¶çš„æ¨¡æ¿å…·æœ‰<mark>å¤šä¸ªæ ¹èŠ‚ç‚¹</mark>ï¼Œ<strong>å¿…é¡»ä½¿ç”¨ <code>$attrs</code> æ˜¾å¼æŒ‡å®š</strong>é Prop çš„ Attribute ç»‘å®šåˆ°å“ªä¸ªèŠ‚ç‚¹ä¸Šï¼Œå¦åˆ™ä¼šå¼¹å‡ºè­¦å‘Šã€‚</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>// è¿™å°†å‘å‡ºè­¦å‘Š
app.component(&#39;custom-layout&#39;, {
  template: `
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
  `
})

// æ²¡æœ‰è­¦å‘Šï¼Œ$attrs è¢«ä¼ é€’åˆ° <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span> å…ƒç´ 
app.component(&#39;custom-layout&#39;, {
  template: `
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
  `
})
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ğŸ’¡ ä¹Ÿå¯ä»¥ç»‘å®šæŒ‡å®šçš„æŸä¸ª Attributeï¼Œä¾‹å¦‚åªå°† <code>class</code> å±æ€§ç»‘å®šåˆ°ç¬¬ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼›åœ¨ç»„ä»¶é…ç½®å‚æ•°çš„ä¸šåŠ¡é€»è¾‘ä¸­å¯ä»¥é€šè¿‡ <code>this.$attrs</code> è®¿é—®æ‰€æœ‰ä¼ é€’è¿›æ¥çš„é props</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>baz<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>app.component(&#39;custom-layout&#39;,{
    template:`
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs.class<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hellp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    `
})
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="åŒå‘ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#åŒå‘ç»‘å®š" aria-hidden="true">#</a> åŒå‘ç»‘å®š</h2><p>åœ¨æ¨¡æ¿çš„æ ‡ç­¾ä¸­ä½¿ç”¨æŒ‡ä»¤ <code>v-model</code> å®ç°<strong>è¡¨å•çš„å€¼ä¸åŠ¨æ€æ•°æ®åŒå‘ç»‘å®š</strong>ï¼Œå®ç°è¡¨å• <code>&lt;input&gt;</code>ã€<code>&lt;textarea&gt;</code>ã€<code>&lt;select&gt;</code> ç­‰æ ‡ç­¾çš„è¾“å…¥æ•°æ®ä¿®æ”¹åŠ¨æ€æ•°æ®å˜é‡ data propertyï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹ç›¸åº”çš„åŠ¨æ€æ•°æ® data property æ§åˆ¶è¡¨å•çš„å€¼ã€‚</p><p>ğŸ’¡ <code>v-model</code> æœ¬è´¨ä¸Šä¸è¿‡æ˜¯è¯­æ³•ç³–ï¼Œå®ƒåœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¡¨å•å…ƒç´ ç›‘å¬ä¸åŒçš„ property ä»¥å“åº”ç”¨æˆ·çš„è¾“å…¥ï¼Œå¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼Œç„¶ååœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ä¿®æ”¹ç»‘å®šçš„å“åº”å¼æ•°æ®ï¼Œå®ç°åŒå‘ç»‘å®šï¼Œå¦‚æœéœ€è¦å®¢åˆ¶åŒ–å¯ä»¥ä¿®æ”¹ç›¸åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</p><p><code>v-model</code> åœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¡¨å•å…ƒç´ ç»‘å®šä¸åŒçš„ property å¹¶ç›‘å¬ä¸åŒçš„äº‹ä»¶ï¼š</p><ul><li><code>&lt;input type=&quot;text&quot;&gt;</code> å’Œ <code>&lt;textarea&gt;</code> å…ƒç´ ä½¿ç”¨ <code>value</code> property å’Œ <code>input</code> äº‹ä»¶</li><li><code>&lt;input type=&quot;checkbox &quot;&gt;</code> å’Œ <code>&lt;input type=&quot;radio&quot;&gt;</code> ä½¿ç”¨ <code>checked</code> property å’Œ <code>change</code> äº‹ä»¶</li><li><code>&lt;select&gt;</code> å…ƒç´ ä½¿ç”¨ <code>value</code> property å¹¶å°† <code>change</code> ä½œä¸ºäº‹ä»¶</li></ul><p>âš ï¸ å¯¹äºæ–‡æœ¬åŸŸï¼Œä»¥æ¨¡æ¿è¯­æ³•ç»‘å®šåŠ¨æ€æ•°æ®æ˜¯<strong>ä¸ä¼šç”Ÿæ•ˆ</strong>çš„</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span><span class="token punctuation">&gt;</span></span>{{text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>åº”ç”¨ä½¿ç”¨ <code>v-model</code> æ¥ä»£æ›¿ <code>&lt;textarea v-model=&quot;message&quot; placeholder=&quot;add multiple lines&quot;&gt;&lt;/textarea&gt;</code></p><p>Vue æä¾›äº†ä¸€äº›<strong>ä¿®é¥°ç¬¦</strong>ï¼Œæ–¹ä¾¿åœ°å¯¹è¡¨å•è¾“å…¥å€¼è¿›è¡Œè®¾ç½®ï¼š</p><ul><li>è¡¨å•çš„å€¼é»˜è®¤æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦‚æœå¸Œæœ›ç»‘å®šçš„åŠ¨æ€æ•°æ®å˜é‡ä¿å­˜çš„æ˜¯æ•°å€¼ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨è¡¨å•ä¿®é¥°ç¬¦ <code>v-model.number</code></li><li>è¡¨å•ä¿®é¥°ç¬¦ <code>v-model.trim</code> è‡ªåŠ¨è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„é¦–å°¾ç©ºç™½å­—ç¬¦</li><li>è¡¨å•ä¿®é¥°ç¬¦ <code>v-model.lazy</code> åœ¨ <code>change</code> äº‹ä»¶ä¹‹åï¼ˆå³è¡¨å•çš„è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹åï¼‰è¿›è¡Œæ•°æ®åŒæ­¥ï¼ˆè€Œé»˜è®¤æ˜¯åœ¨ <code>input</code> äº‹ä»¶è§¦å‘åï¼‰</li></ul><p>ğŸ’¡ å¯¹äºå•é€‰æŒ‰é’®ã€å¤é€‰æ¡†åŠé€‰æ‹©æ¡†ï¼Œæœ‰æ—¶å€™å¸Œæœ›è¿™äº›<strong>è¡¨å•çš„æœ€ç»ˆå€¼</strong>æ˜¯å¦è®¾çš„ï¼Œè¿™æ ·å¯ä»¥æ ¹æ®åŒå‘ç»‘å®šçš„å€¼å˜åŠ¨ï¼Œå¾—åˆ°ç›¸åº”çš„è¡¨å•å€¼ï¼ˆç”šè‡³å¯ä»¥æ˜¯å¯¹è±¡è¿™ä¸€ç±»å¤æ‚çš„æ•°æ®ç»“æ„ï¼‰</p><ul><li><p>å¤é€‰æ¡†ï¼šå¯ä»¥ä½¿ç”¨ <code>true-value</code> å’Œ <code>false-value</code> å±æ€§</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">true-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yes<span class="token punctuation">&quot;</span></span> <span class="token attr-name">false-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// when checked:</span>
vm<span class="token punctuation">.</span>toggle <span class="token operator">===</span> <span class="token string">&#39;yes&#39;</span>
<span class="token comment">// when unchecked:</span>
vm<span class="token punctuation">.</span>toggle <span class="token operator">===</span> <span class="token string">&#39;no&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>å•é€‰æ¡†ï¼šå¯ä»¥ç»‘å®š <code>value</code> å±æ€§</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pick<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-bind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å½“é€‰ä¸­æ—¶</span>
vm<span class="token punctuation">.</span>pick <span class="token operator">===</span> vm<span class="token punctuation">.</span>a
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>é€‰æ‹©æ¡†é€‰é¡¹ï¼šç»‘å®š <code>&lt;option&gt;</code> å…ƒç´ çš„ <code>value</code> å±æ€§ï¼ˆæœ¬æ¥ä¹Ÿæ˜¯ä»¥ <code>&lt;option&gt;</code> çš„ <code>value</code> å±æ€§å€¼ä½œä¸ºè¯¥è¡¨å•çš„å€¼ï¼‰</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selected<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- å†…è”å¯¹è±¡å­—é¢é‡ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ number: 123 }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å½“è¢«é€‰ä¸­æ—¶</span>
<span class="token keyword">typeof</span> vm<span class="token punctuation">.</span>selected <span class="token comment">// =&gt; &#39;object&#39;</span>
vm<span class="token punctuation">.</span>selected<span class="token punctuation">.</span>number <span class="token comment">// =&gt; 123</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h3 id="åœ¨ç»„ä»¶ä¸Šä½¿ç”¨-v-model" tabindex="-1"><a class="header-anchor" href="#åœ¨ç»„ä»¶ä¸Šä½¿ç”¨-v-model" aria-hidden="true">#</a> åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ v-model</h3><p>åœ¨ä½¿ç”¨<a href="https://v3.vuejs.org/guide/component-basics.html#using-v-model-on-components" target="_blank" rel="noopener noreferrer">è‡ªå®šä¹‰çš„<strong>è¾“å…¥å‹ç»„ä»¶</strong></a>æ—¶ï¼ŒVue ä¸ºå®ƒä»¬è¿›è¡Œä¼˜åŒ–ï¼Œä¹Ÿæ”¯æŒä½¿ç”¨ <code>v-model</code> å®ç°åŒå‘ç»‘å®šã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>custom-input</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- ç­‰ä»·äºä»¥ä¸‹ä»£ç  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-input</span>
  <span class="token attr-name">:model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchText<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">@update:</span>model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchText = $event<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>custom-input</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>åœ¨å¤–éƒ¨ï¼ˆå¼•ç”¨è¯¥ç»„ä»¶æ—¶ï¼Œåœ¨ç»„ä»¶çš„æ ‡ç­¾ä¸Šï¼‰é€šè¿‡æŒ‡ä»¤ <code>v-model</code> åŒå‘ç»‘å®šéœ€è¦åŒæ­¥çš„å˜é‡ï¼Œå®ƒçš„æ•°æ®é»˜è®¤ä½œä¸ºä¸€ä¸ª<mark>åä¸º <code>modelValue</code> çš„ prop</mark> ä¼ é€’åˆ°ç»„ä»¶å†…ï¼ˆ<strong>å› æ­¤è®°å¾—åœ¨ç»„ä»¶å†…éƒ¨ï¼Œéœ€è¦åœ¨ <code>props</code> é€‰é¡¹é‡Œå£°æ˜ <code>modelValue</code> ä½œä¸º prop</strong>ï¼‰ï¼Œä½œä¸ºå­ç»„ä»¶å†…éƒ¨è¡¨å•å…ƒç´ çš„ <code>value</code> å±æ€§çš„å€¼ã€‚</p><p>éœ€è¦åœ¨è¿™äº›ç»„ä»¶çš„å†…éƒ¨è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼š</p><ul><li>åœ¨ç»„ä»¶å†…ä½¿ç”¨æŒ‡ä»¤ <code>v-bind</code> å°†<strong>è¡¨å•å…ƒç´ çš„ <code>value</code> å±æ€§ç»‘å®šåˆ°ä»¥ä¸Šå£°æ˜çš„ prop å˜é‡ <code>modelValue</code></strong> ä¸Šï¼Œå³ <code>v-bind:value=&quot;modelValue&quot;</code>ï¼ˆè¿™æ ·å°±å¯ä»¥å°†å¤–éƒ¨ä¼ è¿›æ¥çš„å€¼ä½œä¸ºè¡¨å•çš„å€¼ï¼Œå®ç°ä¸å¤–éƒ¨æ•°æ®çš„ã€ŒåŒæ­¥ã€ï¼‰</li><li>åœ¨ç»„ä»¶å†…ä½¿ç”¨æŒ‡ä»¤ <code>v-on</code> ç›‘å¬è¡¨å•å…ƒç´  <code>input</code> è¾“å…¥äº‹ä»¶ï¼Œ<mark>å¹¶é€šè¿‡<strong>æŠ›å‡º <code>update:modelValue</code> äº‹ä»¶</strong> <code>$emit(&#39;update:modelValue&#39;, $event.target.value)</code> å‘å¤–ä¼ é€’ç›¸åº”çš„æ•°æ®ï¼ˆå¦‚æœè¡¨å•æ˜¯ <code>checkbox</code> åº”è¯¥ä¼ é€’çš„æ•°æ®æ˜¯ <code>$event.target.checked</code>ï¼‰</mark>ï¼Œç„¶åå¤–éƒ¨å°±ä¼šæ¥æ”¶æŠ›å‡ºçš„äº‹ä»¶ï¼Œå¹¶å¯¹æŒ‡ä»¤ <code>v-model</code> ç»‘å®šçš„å˜é‡ï¼ŒåŸºäºæŠ›å‡ºçš„æ•°æ®è¿›è¡Œæ”¹å˜ï¼ˆ<strong>å³æ•°æ®çš„ä¿®æ”¹æ“ä½œè¿˜æ˜¯åœ¨çˆ¶å±‚å®Œæˆ</strong>ï¼‰</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// conpoment</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;custom-input&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;input
      :value=&quot;modelValue&quot;
      @input=&quot;$emit(&#39;update:modelValue&#39;, $event.target.value)&quot;
    &gt;
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>custom-input</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>âš ï¸ Vue 2 æä¾›äº† <code>.sync</code> ä¿®é¥°ç¬¦ï¼Œé€šè¿‡ <code>v-bind:propName.sync=&quot;variable&quot;</code> å’Œ <code>$emit(&#39;update:propName&#39;, newValue)</code> å®ç°ç±»ä¼¼åŒå‘ç»‘å®šçš„åŠŸèƒ½ï¼›ä½†<mark>åœ¨ Vue 3 ä¸­ <code>.sync</code> ä¿®é¥°ç¬¦å·²è¢«ç§»é™¤</mark>ï¼Œè€Œç°åœ¨ Vue 3 ä½¿ç”¨ç±»ä¼¼çš„è¯­æ³•ï¼ˆç»„ä»¶ä¹Ÿæ˜¯æŠ›å‡ºä»¥ <code>update:</code> ä¸ºå‰ç¼€çš„äº‹ä»¶ï¼‰å®ç°çš„ã€‚</p><p>åœ¨ç»„ä»¶å†…ï¼Œé»˜è®¤ä¼ é€’çš„ prop å˜é‡æ˜¯ <code>modelValue</code>ï¼Œé»˜è®¤ç›‘å¬æŠ›å‡ºçš„äº‹ä»¶æ˜¯ <code>update:modelValue</code>ï¼Œè¿™ç§æ–¹æ³•æ›´é€šç”¨ï¼Œå¯¹äº <code>type=&quot;text&quot;</code> æˆ– <code>type=&quot;checkbox&quot;</code> å…¶è¯­ä¹‰éƒ½ä¸ä¼šæ··æ·†ã€‚å¦‚æœéœ€è¦ä¿®æ”¹ <code>modelValue</code> è¿™ä¸ªé»˜è®¤å€¼ï¼Œåœ¨ Vue 2 ä¸­å¯ä»¥é€šè¿‡<a href="https://vuejs.org/v2/guide/components-custom-events.html#Customizing-Component-v-model" target="_blank" rel="noopener noreferrer">é€‰é¡¹ <code>model</code></a> è¿›è¡Œé…ç½®ï¼Œä½†<mark>åœ¨ Vue 3 ä¸­ <code>model</code> é€‰é¡¹å·²ç§»é™¤</mark>ï¼Œä½œä¸ºæ›¿ä»£å¯ä»¥åœ¨çˆ¶çº§ä¸­<strong>ä¸º <code>v-model</code> æ·»åŠ å‚æ•°</strong>ï¼Œè¿™ä¸ª argument å°±æ˜¯ prop å˜é‡åå’Œéœ€è¦ç›‘å¬çš„äº‹ä»¶åï¼ˆåŠ ä¸Š <code>update:</code> å‰ç¼€ï¼‰</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- ä½¿ç”¨ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name"><span class="token namespace">v-model:</span>title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookTitle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- æ˜¯ä»¥ä¸‹çš„ç®€å†™ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookTitle<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookTitle = $event<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ç»„ä»¶</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;my-component&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;update:title&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;input
      type=&quot;text&quot;
      :value=&quot;title&quot;
      @input=&quot;$emit(&#39;update:title&#39;, $event.target.value)&quot;&gt;
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>åœ¨ Vue 3 ä¸­åˆ©ç”¨ç‰¹å®šçš„ propï¼ˆé€šè¿‡è°ƒç”¨ç»„ä»¶æ—¶ä½¿ç”¨æŒ‡ä»¤ <code>v-model</code> çš„å‚æ•°è®¾ç½®ï¼‰å’ŒæŠ›å‡ºç›¸åº”äº‹ä»¶ï¼Œ<mark>å¯ä»¥åœ¨å•ä¸ªç»„ä»¶ä¸Šåˆ›å»º<strong>å¤šä¸ª <code>v-model</code></strong>ï¼Œä»è€Œå®ç°å¤šä¸ª prop çš„åŒå‘ç»‘å®š</mark></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- ä½¿ç”¨ç»„ä»¶ï¼Œå®ç° first-name å’Œ last-name çš„åŒå‘ç»‘å®š --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>user-name</span>
  <span class="token attr-name"><span class="token namespace">v-model:</span>first-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>firstName<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">v-model:</span>last-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>user-name</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;user-name&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    firstName<span class="token operator">:</span> String<span class="token punctuation">,</span>
    lastName<span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;update:firstName&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;update:lastName&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;input
      type=&quot;text&quot;
      :value=&quot;firstName&quot;
      @input=&quot;$emit(&#39;update:firstName&#39;, $event.target.value)&quot;&gt;

    &lt;input
      type=&quot;text&quot;
      :value=&quot;lastName&quot;
      @input=&quot;$emit(&#39;update:lastName&#39;, $event.target.value)&quot;&gt;
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>åœ¨è¾“å…¥å‹ç»„ä»¶ä¸Šä½¿ç”¨æŒ‡ä»¤ <code>v-model</code> æ—¶ï¼Œä¸ä»…æ”¯æŒ Vue å†…ç½®çš„ä¿®é¥°ç¬¦ <code>.trim</code>ã€<code>.number</code>ã€<code>.lazy</code>ï¼Œ<mark>Vue 3 è¿˜æ”¯æŒæ·»åŠ <strong>è‡ªå®šä¹‰çš„ä¿®é¥°ç¬¦</strong>ï¼Œæ·»åŠ åˆ°ç»„ä»¶ <code>v-model</code> çš„ä¿®é¥°ç¬¦å°†é€šè¿‡ <strong><code>modelModifiers</code> prop</strong> æä¾›ç»™ç»„ä»¶ã€‚</mark></p><p>ğŸ’¡ ä¿®é¥°ç¬¦åº”è¯¥åœ¨æŒ‡ä»¤çš„å‚æ•°åï¼Œè€Œä¸”ä¿®é¥°ç¬¦æ”¯æŒå¤šä¸ªé“¾å¼ä½¿ç”¨</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- ä½¿ç”¨è‡ªå®šä¹‰ä¿®é¥°ç¬¦ï¼Œå®ç°å­—ç¬¦ä¸²é¦–å­—æ¯å¤§å†™ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">v-model.capitalize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ç»„ä»¶</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;my-component&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    modelValue<span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token comment">// modelModifiers prop è¿™é‡Œæˆ‘ä»¬æä¾›äº†åˆå§‹å€¼</span>
    modelModifiers<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¡¨å• input äº‹ä»¶çš„å¤„ç†å‡½æ•°</span>
    <span class="token function">emitValue</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
      <span class="token comment">// å¦‚æœ v-model æœ‰ä¿®é¥°ç¬¦ capitalize å°±å¯¹è¡¨å•è¾“å…¥å€¼å®ç°é¦–å­—æ¯å¤§å†™</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>modelModifiers<span class="token punctuation">.</span>capitalize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// æŠ›å‡ºäº‹ä»¶</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;input type=&quot;text&quot;
      :value=&quot;modelValue&quot;
      @input=&quot;emitValue&quot;&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å½“ç»„ä»¶çš„ created ç”Ÿå‘½å‘¨æœŸé’©å­è§¦å‘æ—¶ï¼Œä¼šæ ¹æ®è°ƒç”¨ç»„ä»¶çš„æƒ…å†µå¯¹ modelModifiers prop è¿›è¡Œè®¾ç½®</span>
    <span class="token comment">// ç”±äºè¿™ä¸ªä¾‹å­ä¸­ v-model çš„ä¿®é¥°ç¬¦ä¸º capitalizeï¼Œå› æ­¤ modelModifiers å¯¹è±¡ä¼šåŒ…å« capitalize å±æ€§</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>modelModifiers<span class="token punctuation">)</span> <span class="token comment">// { capitalize: true }</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p><mark><strong>å¦‚æœ <code>v-model</code> è®¾ç½®äº†å‚æ•°</strong>ï¼Œåˆ™æ·»åŠ åˆ°ç»„ä»¶ <code>v-model</code> çš„è‡ªå®šä¹‰çš„ä¿®é¥°ç¬¦å°†é€šè¿‡ <strong><code>arg</code> + <code>Modifiers</code> å½¢å¼çš„ prop</strong> æä¾›ç»™ç»„ä»¶ã€‚</mark></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name"><span class="token namespace">v-model:</span>description.capitalize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;my-component&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;description&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;descriptionModifiers&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;update:description&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;input type=&quot;text&quot;
      :value=&quot;description&quot;
      @input=&quot;$emit(&#39;update:description&#39;, $event.target.value)&quot;&gt;
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>descriptionModifiers<span class="token punctuation">)</span> <span class="token comment">// { capitalize: true }</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="æ¡ä»¶æ¸²æŸ“" tabindex="-1"><a class="header-anchor" href="#æ¡ä»¶æ¸²æŸ“" aria-hidden="true">#</a> æ¡ä»¶æ¸²æŸ“</h2><p>æŒ‡ä»¤ <code>v-if</code> å’Œ <code>v-show</code> éƒ½å¯ä»¥å®ç°æ¡ä»¶æ¸²æŸ“ï¼Œå…ƒç´ åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å› truthy å€¼çš„æ—¶å€™è¢«æ¸²æŸ“æˆ–æ˜¾ç¤ºå‡ºæ¥ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œ<code>v-if</code> æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ <code>v-show</code> æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦éå¸¸é¢‘ç¹åœ°åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ <code>v-show</code> è¾ƒå¥½ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ä½¿ç”¨ <code>v-if</code> è¾ƒå¥½ã€‚</p><h3 id="v-if" tabindex="-1"><a class="header-anchor" href="#v-if" aria-hidden="true">#</a> v-if</h3><p>åœ¨æ¨¡æ¿æ ‡ç­¾ä¸­ä½¿ç”¨æŒ‡ä»¤ <code>v-if</code> æ§åˆ¶ DOM çš„æ¸²æŸ“ï¼Œåªæœ‰æ¡ä»¶æŒ‡ä»¤çš„å€¼ä¸º <code>true</code> æ—¶æ‰æ¸²æŸ“å…ƒç´ ï¼Œå¦åˆ™ DOM <strong>è¢«ã€Œæ‹”å‡ºã€</strong>ã€‚</p><p>ğŸ’¡ å¦‚æœæƒ³åŒæ—¶æ§åˆ¶å¤šä¸ªå…ƒç´ çš„æ¡ä»¶æ¸²æŸ“ï¼Œå¯ä»¥ä½¿ç”¨ <code>&lt;template&gt;</code> å…ƒç´ ä½œä¸ºå®¹å™¨ï¼Œå®ƒè¢«å½“åšä¸å¯è§çš„åŒ…è£¹å…ƒç´ ï¼Œå³æœ€ç»ˆçš„æ¸²æŸ“ç»“æœå°†ä¸åŒ…å« <code>&lt;template&gt;</code> å…ƒç´ ã€‚</p><p>è¿˜å¯ä»¥ä½¿ç”¨ <code>v-if</code>ã€<code>v-else-if</code>ã€<code>v-else</code> è®¾ç½®<strong>åŒçº§å¹¶åˆ—å…ƒç´ </strong>çš„æ¡ä»¶æ¸²æŸ“ï¼Œè¿™ä¸‰ä¸ªæŒ‡ä»¤çš„å…ƒç´ éœ€è¦è¿ç»­ä¸”åŒçº§ã€‚</p><p>ğŸ’¡ å¯¹äº <code>v-if</code>/<code>v-else</code>/<code>v-else-if</code> çš„<mark>å„åˆ†æ”¯é¡¹ <code>key</code> å°†ä¸å†æ˜¯å¿…é¡»çš„</mark>ï¼Œå› ä¸ºç°åœ¨ Vue ä¼šè‡ªåŠ¨ç”Ÿæˆå”¯ä¸€çš„ <code>key</code>ã€‚å¦‚æœä½ æ‰‹åŠ¨æä¾› <code>key</code>ï¼Œé‚£ä¹ˆæ¯ä¸ªåˆ†æ”¯å¿…é¡»ä½¿ç”¨<strong>å”¯ä¸€çš„ <code>key</code></strong>ã€‚</p><h3 id="v-show" tabindex="-1"><a class="header-anchor" href="#v-show" aria-hidden="true">#</a> v-show</h3><p>åœ¨æ¨¡æ¿æ ‡ç­¾ä¸­ä½¿ç”¨æŒ‡ä»¤ <code>v-show</code> ä¹Ÿæ˜¯æ§åˆ¶ DOM çš„æ¸²æŸ“ï¼Œåªæœ‰æ¡ä»¶æŒ‡ä»¤çš„å€¼ä¸º <code>true</code> æ—¶æ‰æ˜¾ç¤ºå…ƒç´ ï¼Œå¦åˆ™ DOM è¢«<strong>éšè—</strong>ã€‚</p><p>âš ï¸ <code>v-show</code> ä¸æ”¯æŒ <code>&lt;template&gt;</code> å…ƒç´ ï¼Œå› ä¸º <code>v-show</code> æ˜¯è¦å…ƒç´ å…ˆè¿›è¡Œæ¸²æŸ“å†é€šè¿‡ CSS æ§åˆ¶æ˜¾ç¤º/éšè—çš„ï¼Œå› æ­¤åªèƒ½ä½œç”¨äºå¯ä»¥åœ¨é¡µé¢æ¸²æŸ“å‡º DOM çš„å…ƒç´ ã€‚</p><h2 id="åˆ—è¡¨æ¸²æŸ“" tabindex="-1"><a class="header-anchor" href="#åˆ—è¡¨æ¸²æŸ“" aria-hidden="true">#</a> åˆ—è¡¨æ¸²æŸ“</h2><p>åœ¨æ¨¡æ¿æ ‡ç­¾ä¸­ä½¿ç”¨æŒ‡ä»¤ <code>v-for</code> å¯ä»¥å°†å“åº”å¼æ•°æ®ä¸­çš„æ•°ç»„æˆ–å¯¹è±¡æ¸²æŸ“ä¸ºä¸€ç³»åˆ—çš„ DOM å…ƒç´ ï¼Œç§°ä¸ºåˆ—è¡¨æ¸²æŸ“ï¼Œå¸¸ç”¨å½¢å¼æ˜¯ <code> v-for item in arr</code> æˆ– <code>v-for item of arr</code></p><ul><li>å¯ä»¥éå† arr æ•°ç»„ã€obj å¯¹è±¡ã€numberï¼ˆ<strong>ä» 1 å¼€å§‹</strong>ï¼‰æ•°å­—</li><li>ä½†æ˜¯éå† objList ï¼ˆç±»æ•°ç»„çš„å¯¹è±¡ï¼‰æ—¶å€™ï¼Œæ— æ³•ä¿è¯æ¯æ¬¡éå† item çš„å…ˆåæ¬¡åº</li></ul><p>å…¶ä¸­å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯éœ€è¦ä¸ºç”Ÿæˆçš„å…ƒç´ <strong>è®¾ç½® <code>key</code> å±æ€§</strong>ï¼Œä¸€èˆ¬ç»‘å®šçš„æ˜¯ä¸è¯¥å…ƒç´ ç›¸å…³çš„å”¯ä¸€æ ‡è¯†ï¼ˆ<strong>ä¸è¦ç›´æ¥ç”¨ <code>index</code></strong>ï¼‰ï¼Œä»¥ä¾¿æé«˜ DOM æ›´æ–°çš„æ•ˆç‡ã€‚</p><p>ğŸ’¡ <code>key</code> å±æ€§è¿˜å¯ä»¥ç”¨äº<strong>å¼ºåˆ¶æ›¿æ¢å…ƒç´ /ç»„ä»¶è€Œä¸æ˜¯é‡å¤ä½¿ç”¨å®ƒ</strong>ã€‚å½“ä½ é‡åˆ°å¦‚ä¸‹åœºæ™¯æ—¶å®ƒå¯èƒ½ä¼šå¾ˆæœ‰ç”¨ï¼š</p><ul><li>å®Œæ•´åœ°è§¦å‘ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­</li><li>è§¦å‘è¿‡æ¸¡</li></ul><p>å¯ä»¥å°†æŒ‡ä»¤ <code>v-for</code> åº”ç”¨åˆ°å…ƒç´  <code>&lt;template&gt;</code>ï¼ŒåŒæ—¶å¯ä»¥åœ¨å…ƒç´ ä¸ŠæŒ‡å®š <code>key</code> å±æ€§ï¼Œè€Œä¸å¿…åƒ Vue 2 é‚£æ ·åœ¨å…¶åŒ…å«çš„å­å…ƒç´ ä¸Šè®¾ç½®ã€‚</p><p>âš ï¸ <mark><code>v-if</code> ä¼šæ‹¥æœ‰æ¯” <code>v-for</code> æ›´é«˜çš„ä¼˜å…ˆçº§ï¼Œè¿™ä¸ Vue 2 ä¸­çš„å·¥ä½œæ–¹å¼æ­£å¥½ç›¸åï¼Œè¿™ä¹Ÿé€ æˆåœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Š <code>v-if</code> å°†<strong>æ²¡æœ‰æƒé™è®¿é—® <code>v-for</code> é‡Œçš„å˜é‡</strong></mark></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- This will throw an error because property &quot;todo&quot; is not defined on instance. --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo in todos<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!todo.isComplete<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  {{ todo.name }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="https://v3.vuejs.org/guide/list.html#v-for-with-v-if" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>æ¨èä½¿ç”¨ <code>&lt;template&gt;</code> æ ‡ç­¾æŠŠ <code>v-for</code> ç§»åŠ¨åˆ°ã€Œå¤–å±‚ã€æ¥ä¿®æ­£ã€‚ ğŸ‰ è€Œæ›´ä¼˜åŒ–çš„æ–¹æ¡ˆæ˜¯é€šè¿‡ <code>computed</code> å…ˆå¯¹åˆ—è¡¨è¿›è¡Œæ¡ä»¶è¿‡æ»¤ï¼Œå†è¿­ä»£è®¡ç®—å±æ€§</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo in todos<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo.name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!todo.isComplete<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{ todo.name }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ğŸ’¡ ç”±äºå¯¹è±¡å’Œæ•°ç»„éƒ½æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥ä¿®æ”¹å®ƒä»¬åå¸¸å¸¸ä¼šå‡ºç°æ— æ³•æ­£ç¡®åœ°è§¦å‘å“åº”å¼å˜åŒ–çš„é—®é¢˜ï¼Œä¾‹å¦‚æ— æ³•è§¦å‘åˆ—è¡¨é‡æ–°æ¸²æŸ“ã€‚â€‹ Vue ç‰¹æ„é’ˆå¯¹æ•°ç»„å¸¸ç”¨æ–¹æ³•ï¼ˆ<code>push()</code>ã€<code>pop()</code>ã€<code>shift()</code>ã€<code>unshift()</code>ã€<code>splice()</code>ã€<code>sort()</code>ã€<code>reverse()</code>ï¼‰åšå‡ºä¼˜åŒ–ï¼Œ<strong>å¦‚æœé€šè¿‡è¿™äº›æ–¹æ³•ä¿®æ”¹æ•°ç»„ï¼ŒVue å¯ä»¥ä¾¦å¬åˆ°ï¼Œç›¸å…³ä¾èµ–ä¼šåšå‡ºå“åº”å¼å˜åŒ–</strong>ï¼ˆè€Œç›´æ¥é€šè¿‡ä¸‹æ ‡æ¥ä¿®æ”¹æ•°ç»„çš„å€¼ï¼Œå¾€å¾€æ— æ³•è§¦å‘è§†å›¾è¿›è¡Œå“åº”å¼åœ°æ›´æ–°ï¼‰ã€‚</p><h2 id="teleport" tabindex="-1"><a class="header-anchor" href="#teleport" aria-hidden="true">#</a> Teleport</h2><p>æœ‰æ—¶ç»„ä»¶æ¨¡æ¿çš„ä¸€éƒ¨åˆ†ä»£ç ä»é€»è¾‘ä¸Šå±äºè¯¥ç»„ä»¶ï¼Œè€Œä» UI è§’åº¦æ¥çœ‹ï¼Œæœ€å¥½å°†æ¨¡æ¿çš„è¿™ä¸€éƒ¨åˆ†ç§»åŠ¨åˆ° Vue app ä¹‹å¤–çš„å…¶ä»–ä½ç½®ï¼Œä¾‹å¦‚æ¨¡æ€æ¡†è¿™ä¸€ç±»å…¨å±æ¨¡å¼çš„ç»„ä»¶ï¼Œåº”è¯¥ä½œä¸º <code>&lt;body&gt;</code> å…ƒç´ çš„ç›´æ¥å­å…ƒç´ ï¼Œè€Œä¸æ˜¯æ·±åº¦åµŒå¥—åœ¨ <code>div</code> ä¸­ã€‚</p><p>Vue 3 æ–°å¢çš„ Teleport æä¾›äº†ä¸€ç§å¹²å‡€çš„æ–¹æ³•ï¼Œå…è®¸æˆ‘ä»¬è‡ªç”±åœ°æ§åˆ¶åœ¨å®¹å™¨ä¸­çš„æ¨¡æ¿æ¸²æŸ“åœ¨å“ªä¸ªé¡µé¢ DOM èŠ‚ç‚¹ä¸‹ã€‚</p><p>å†…ç½®ç»„ä»¶ <code>&lt;teleport&gt;</code> ä½œä¸ºå®¹å™¨ï¼Œå…¶å±æ€§ <code>to</code> æŒ‡å®šå†…å®¹éœ€è¦æ’å…¥åˆ°å“ªä¸€ä¸ª DOM èŠ‚ç‚¹ï¼Œå±æ€§å€¼å¯ä»¥æ˜¯æ ‡ç­¾åï¼Œå¦‚ <code>body</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯ CSS é€‰æ‹©å™¨ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;modal-button&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;button @click=&quot;modalOpen = true&quot;&gt;
        Open full screen modal! (With teleport!)
    &lt;/button&gt;
	&lt;!-- æ¨¡æ€æ¡†å†…å®¹æ¸²æŸ“ä¸º body æ ‡ç­¾çš„å­çº§ --&gt;
    &lt;teleport to=&quot;body&quot;&gt;
      &lt;div v-if=&quot;modalOpen&quot; class=&quot;modal&quot;&gt;
        &lt;div&gt;
          I&#39;m a teleported modal!
          (My parent is &quot;body&quot;)
          &lt;button @click=&quot;modalOpen = false&quot;&gt;
            Close
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/teleport&gt;
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      modalOpen<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>ğŸ’¡ å½“ <code>&lt;teleport&gt;</code> å®¹å™¨å†…åŒ…å« Vue ç»„ä»¶æ—¶ï¼Œè™½ç„¶æœ€ç»ˆæ¸²æŸ“åœ¨æŒ‡å®šçš„ DOM èŠ‚ç‚¹ä¸‹ï¼Œä½†æ˜¯é€»è¾‘ä¸Šçš„çˆ¶å­ç»„ä»¶å…³ç³»å¹¶ä¸ä¼šå˜ï¼Œå³æ¥è‡ªçˆ¶ç»„ä»¶çš„æ³¨å…¥ä¾ç„¶æŒ‰é¢„æœŸå·¥ä½œï¼Œå¹¶ä¸”åœ¨ Vue Devtools ä¸­ï¼Œå­ç»„ä»¶å°†åµŒå¥—çš„çˆ¶ç»„ä»¶ä¹‹ä¸‹ï¼Œè€Œä¸æ˜¯æ”¾åœ¨å®é™…å†…å®¹ç§»åŠ¨åˆ°çš„ä½ç½®ã€‚</p><p>ğŸ’¡ å¤šä¸ª <code>&lt;teleport&gt;</code> ç»„ä»¶å¯ä»¥æŒ‚è½½åˆ°åŒä¸€ä¸ªç›®æ ‡å…ƒç´ ï¼Œä»¥è¿½åŠ çš„æ¨¡å¼å åŠ ï¼Œå³ç¨åæŒ‚è½½çš„å…ƒç´ ä½äºè¾ƒæ—©çš„æŒ‚è½½ä¹‹åï¼Œä¸€ä¸ªå¸¸è§çš„ç”¨ä¾‹åœºæ™¯æ˜¯ä¸€ä¸ªå¯é‡ç”¨çš„ <code>&lt;Modal&gt;</code> ç»„ä»¶ç”¨äºå¼¹å‡ºæ¶ˆæ¯ï¼ŒæŒ‚è½½åœ¨ <code>&lt;body&gt;</code> å…ƒç´ ä¸‹ï¼Œå¯èƒ½åŒæ—¶æœ‰å¤šä¸ªå®ä¾‹å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œä» UI è§’åº¦çœ‹åˆ°çš„æ•ˆæœæ˜¯æ–°çš„æ¨¡æ€æ¡†å°±ä¼šè¦†ç›–æ—§çš„æ¨¡æ€æ¡†ã€‚</p><h2 id="å“åº”å¼å˜é‡" tabindex="-1"><a class="header-anchor" href="#å“åº”å¼å˜é‡" aria-hidden="true">#</a> å“åº”å¼å˜é‡</h2><p>åœ¨é…ç½®ï¼ˆæ ¹ï¼‰ç»„ä»¶æ—¶ï¼Œå¯ä»¥åœ¨<mark>é€‰é¡¹ <code>data()</code> å‡½æ•°ä¸­å£°æ˜å“åº”å¼å˜é‡ï¼Œç„¶åå°†å®ƒä»¬ä½œä¸ºè¿”å›å€¼<strong>åŒ…åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­</strong></mark>ï¼ŒVue ä¼šé€šè¿‡å“åº”æ€§ç³»ç»Ÿå°†å…¶åŒ…è£¹èµ·æ¥ï¼Œåœ¨ç»„ä»¶å®ä¾‹åˆ›å»ºåï¼Œä»¥ <code>$data</code> çš„å½¢å¼å­˜å‚¨åœ¨ç»„ä»¶å®ä¾‹ <code>vm</code> ä¸­ã€‚</p><p>è¿™æ ·åœ¨å°±å¯ä»¥åœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨å®ƒä»¬ï¼Œè€Œåœ¨å…¶ä»–é€‰é¡¹çš„å‡½æ•°ä¸­åˆ™ä½¿ç”¨ <code>this.$data.varName</code>ï¼ˆå…¶ä¸­ <code>this</code> æ˜¯ç»„ä»¶å®ä¾‹ <code>vm</code>ï¼Œåœ¨ Vue å¤–éƒ¨ä¹Ÿå¯ä»¥é€šè¿‡ <code>vm.$data</code> è®¿é—®è¯¥å“åº”å¼å¯¹è±¡ï¼‰æ¥è®¿é—®ã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œè¯¥å¯¹è±¡çš„ä»»ä½•é¡¶çº§ property å¯ä»¥ç›´æ¥é€šè¿‡ç»„ä»¶å®ä¾‹æš´éœ²å‡ºæ¥ï¼Œå³å¯ä»¥é€šè¿‡ <code>this.varName</code> æ›¿ä»£ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> count<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$data<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>count<span class="token punctuation">)</span>       <span class="token comment">// 4</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>âš ï¸ è¿™äº› property ä»…åœ¨å®ä¾‹é¦–æ¬¡åˆ›å»ºæ—¶è¢«æ·»åŠ ï¼Œæ‰€ä»¥ä½ éœ€è¦ç¡®ä¿å®ƒä»¬éƒ½åœ¨ <code>data</code> å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­ã€‚å¿…è¦æ—¶ï¼Œ<strong>è¦å¯¹å°šæœªæä¾›æ‰€éœ€å€¼çš„ property ä½¿ç”¨ <code>null</code>ã€<code>undefined</code> æˆ–å…¶ä»–å ä½çš„å€¼</strong>ã€‚</p><h2 id="è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨" tabindex="-1"><a class="header-anchor" href="#è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨" aria-hidden="true">#</a> è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨</h2><p>åœ¨é€‰é¡¹ <code>computed</code> ä¸­åˆ›å»ºè®¡ç®—å±æ€§ï¼Œåœ¨é€‰é¡¹ <code>watch</code> åˆ›å»ºç›‘å¬å™¨ï¼Œä¸¤è€…éƒ½æ˜¯<strong>åŸºäºå“åº”å¼æ•°æ®çš„å˜åŒ–å†æ‰§è¡Œæ“ä½œçš„</strong>ï¼Œä½†ç”¨å¤„æœ‰ä¸åŒã€‚</p><h3 id="computed" tabindex="-1"><a class="header-anchor" href="#computed" aria-hidden="true">#</a> computed</h3><p>è®¡ç®—å±æ€§å¸¸å¸¸æ˜¯ä¸ºäº†å°†å¤æ‚å’Œéœ€è¦é‡ç”¨çš„èµ„æ–™å¤„ç†é€»è¾‘ï¼Œä»æ¨¡æ¿ä¸­çš„å‡½æ•°è¡¨è¾¾å¼æå‡ºæ¥ã€‚å®ƒç±»ä¼¼ <code>data</code> çš„å±æ€§ä¸€æ ·ï¼Œ<strong>ä½œä¸ºå“åº”å¼æ•°æ®åœ¨æ¨¡æ¿ä¸Šç›´æ¥ä½¿ç”¨</strong>ã€‚</p><p>è®¡ç®—å±æ€§çš„æœ€å¤§ä¼˜åŠ¿æ˜¯<a href="https://v3.vuejs.org/guide/computed.html#computed-caching-vs-methods" target="_blank" rel="noopener noreferrer">å¯¹äºå“åº”å¼ä¾èµ–<strong>æœ‰ç¼“å­˜</strong>çš„</a>ï¼Œå³è®¡ç®—å±æ€§åªåœ¨ç›¸å…³å“åº”å¼ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶å®ƒä»¬æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚å¦‚æœå¸Œæœ›è®¡ç®—å±æ€§å®æ—¶æ›´æ–°ï¼Œé‚£ä¹ˆå®ƒ<strong>éœ€è¦æœ‰å“åº”å¼ä¾èµ–</strong>ï¼ˆåŸºäº data æˆ–å…¶ä»–æ¥æºçš„å“åº”å¼æ•°æ®ï¼‰ï¼Œå¹¶ä¸”<strong>è¿”å›ä¸€ä¸ªå€¼</strong>ã€‚</p><p>ğŸ’¡ å¦‚æœä¸å¸Œæœ›æœ‰ç¼“å­˜ï¼Œè¯·ç”¨ <code>method</code> æ¥æ›¿ä»£ï¼ŒåŒæ ·å¯ä»¥å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>æ¯å½“è§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œæ–¹æ³• <code>method</code> å‡½æ•°å°†æ€»ä¼šå†æ¬¡æ‰§è¡Œ</strong>ã€‚</p><h3 id="watch" tabindex="-1"><a class="header-anchor" href="#watch" aria-hidden="true">#</a> watch</h3><p>å¯ä»¥å°† <code>watch</code> çœ‹ä½œæ˜¯æ›´é€šç”¨çš„å“åº”æ•°æ®ä¾¦å¬æ–¹å¼ã€‚watch ä¹Ÿæ˜¯ä¾èµ–å“åº”å¼æ•°æ®çš„ï¼Œå¯ä»¥æ˜¯ data property æˆ– computed propertyï¼ˆä¹Ÿå¯ä»¥æ˜¯è¿™äº› property çš„åµŒå¥— propertyï¼‰ï¼Œç„¶ååœ¨å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘å›è°ƒå‡½æ•°ï¼Œåœ¨å›è°ƒä¸­å¯ä»¥<strong>æ‰§è¡Œå¼‚æ­¥æ“ä½œ</strong>ï¼Œå¯ä»¥è®¾ç½®ä¸­é—´çŠ¶æ€ï¼Œè€Œä¸”<strong>ä¸å¿…è¿”å›å€¼</strong>ã€‚</p><p>ä¾¦å¬å™¨é™¤äº†ä»¥å‡½æ•°å½¢å¼ï¼ˆå‡½æ•°åå°±æ˜¯éœ€è¦ä¾¦å¬çš„å“åº”å¼å˜é‡ï¼‰ï¼Œè¿˜å¯ä»¥æ˜¯<strong>å¯¹è±¡çš„å½¢å¼</strong>ï¼Œå¯¹ä¾¦å¬å™¨è¿›è¡Œæ›´è¯¦ç»†çš„è®¾ç½®</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>watch<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// å‡½æ•°å½¢å¼ï¼Œä¾¦å¬å“åº”å¼å˜é‡ a</span>
  <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">new: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, old: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>oldVal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// å›è°ƒå‡½æ•°ä»¥å‡½æ•°åæ¥è¡¨ç¤ºï¼ˆå­—ç¬¦ä¸²ï¼‰</span>
  b<span class="token operator">:</span> <span class="token string">&#39;someMethod&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// å¯¹è±¡å½¢å¼</span>
  <span class="token comment">// è¯¥å›è°ƒä¼šåœ¨ä»»ä½•è¢«ä¾¦å¬çš„å¯¹è±¡çš„ property æ”¹å˜æ—¶è¢«è°ƒç”¨ï¼Œä¸è®ºå…¶è¢«åµŒå¥—å¤šæ·±</span>
  c<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;c changed&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    deep<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ä¾¦å¬åµŒå¥— property</span>
  <span class="token string">&#39;c.d&#39;</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// è¯¥å›è°ƒå°†ä¼šåœ¨ä¾¦å¬å¼€å§‹ä¹‹åè¢«ç«‹å³è°ƒç”¨</span>
  e<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;e changed&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    immediate<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// å¤šä¸ªå›è°ƒå‡½æ•°æ„æˆçš„æ•°ç»„ï¼Œå®ƒä»¬ä¼šè¢«é€ä¸€è°ƒç”¨</span>
  f<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;handle1&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token function">handle2</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;handle2 triggered&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">handle3</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;handle3 triggered&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>ğŸ’¡ åœ¨ Vue 2 ä¸­ watch ä¸€èˆ¬åªèƒ½ç›‘å¬ä¸€ä¸ªå“åº”å¼æ•°æ®ï¼ˆå¦‚æœè¦ç›‘å¬å¤šä¸ªå˜é‡ï¼Œå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°å°†ä»–ä»¬ç»„åˆè¿”å›å†ç»™ watch ç›‘å¬ï¼Œ<a href="https://github.com/vuejs/vue/issues/844#issuecomment-265315349" target="_blank" rel="noopener noreferrer">ç›¸å½“äºä¾¦å¬ä¸€ä¸ª computed</a>ï¼‰ï¼Œ<mark>è€Œåœ¨ Vue 3 ä¸­æ˜¯æ”¯æŒ<a href="https://v3.cn.vuejs.org/guide/reactivity-computed-watchers.html#watch" target="_blank" rel="noopener noreferrer">ç›‘å¬å¤šä¸ªæ•°æ®æºå’Œå“åº”å¼å¯¹è±¡</a></mark>ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">// ä¾¦å¬å¤šä¸ªæº</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>fooRef<span class="token punctuation">,</span> barRef<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>prevFoo<span class="token punctuation">,</span> prevBar<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•" aria-hidden="true">#</a> æ–¹æ³•</h2><p>ç”¨ <code>methods</code> é€‰é¡¹å‘ç»„ä»¶å®ä¾‹æ·»åŠ æ–¹æ³•ï¼Œè¯¥é€‰é¡¹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­å„å±æ€§å°±æ˜¯è¯¥ç»„ä»¶å¯ä»¥è°ƒç”¨çš„æ–¹æ³•ã€‚</p><p>å¯ä»¥åœ¨ç»„ä»¶æ¨¡æ¿ä¸­ç›´æ¥è°ƒç”¨æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åœ¨å…¶ä»–é€‰é¡¹ä¸­é€šè¿‡ <code>this.methodName([params])</code> æ¥è°ƒç”¨ã€‚</p><p>âš ï¸ <strong>Vue è‡ªåŠ¨ä¸º <code>methods</code> ç»‘å®š <code>this</code>ï¼Œä»¥ä¾¿äºå®ƒå§‹ç»ˆæŒ‡å‘ç»„ä»¶å®ä¾‹</strong>ï¼Œå› æ­¤åœ¨å®šä¹‰è¿™äº›æ–¹æ³•æ—¶åº”è¯¥<strong>é¿å…</strong>ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼ˆå› ä¸ºè¿™ä¼šé˜»æ­¢ Vue ç»‘å®šæ°å½“çš„ <code>this</code> æŒ‡å‘ï¼‰ã€‚</p><p>å¦å¤–å®˜æ–¹æ–‡æ¡£è¿˜æåˆ°ä¸€ä¸ª<a href="https://v3.vuejs.org/guide/data-methods.html#debouncing-and-throttling" target="_blank" rel="noopener noreferrer">å…³äº<strong>é˜²æŠ–</strong>çš„ä¾‹å­</a>å€¼å¾—æ³¨æ„ã€‚ç”±äºç»„ä»¶å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œå°†ç»„ä»¶çš„ <code>methods</code> é€‰é¡¹é‡Œçš„å‡½æ•°çš„ <code>this</code> è¿›è¡Œç»‘å®šï¼ˆæŒ‡å‘äº†ç»„ä»¶å®ä¾‹ï¼‰ï¼Œè€Œ<strong>å‡½æ•°è¿˜æ˜¯å…±äº«</strong>ï¼Œå› æ­¤åœ¨åŒä¸€ä¸ªé¡µé¢å¤ç”¨ç»„ä»¶æ—¶ï¼Œè¿›è¡Œé˜²æŠ–å®é™…è°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å¯¼è‡´ä¸é¢„æœŸä¸ä¸€æ ·çš„æ•ˆæœï¼Œå…·ä½“åˆ†æå¯ä»¥å‚è€ƒè¿™ç¯‡<a href="https://juejin.cn/post/6844903516788506637" target="_blank" rel="noopener noreferrer">æ–‡ç« </a>ã€‚</p><p>å› æ­¤æ­£ç¡®çš„åšæ³•æ˜¯<mark>åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­çš„ <code>created</code> é‡Œï¼Œ<strong>å°†é˜²æŠ–å‡½æ•°æ·»åŠ åˆ°ç»„ä»¶å®ä¾‹ä¸Š</strong></mark>ï¼Œè¿™æ ·å°±å¯ä»¥è®©æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„é˜²æŠ–å‡½æ•°</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;save-button&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç”¨ Lodash çš„é˜²æŠ–å‡½æ•°å¯¹äº‹ä»¶å¤„ç†å‡½æ•°è¿›è¡Œå°è£…</span>
    <span class="token comment">// this æŒ‡çš„æ˜¯ç»„ä»¶å®ä¾‹</span>
    <span class="token comment">// å› æ­¤ debouncedClick å‡½æ•°æ˜¯æ¯ä¸ªç»„ä»¶å®ä¾‹å½¼æ­¤ç‹¬ç«‹çš„</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>debouncedClick <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>click<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">unmounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç§»é™¤ç»„ä»¶æ—¶ï¼Œå–æ¶ˆå®šæ—¶å™¨</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>debouncedClick<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ... å“åº”ç‚¹å‡»çš„å…·ä½“å¤„ç†å‡½æ•° ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;button @click=&quot;debouncedClick&quot;&gt;
      Save
    &lt;/button&gt;
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="äº‹ä»¶å¤„ç†" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶å¤„ç†" aria-hidden="true">#</a> äº‹ä»¶å¤„ç†</h2><p>åœ¨æ¨¡æ¿çš„æ ‡ç­¾ä¸­ä½¿ç”¨æŒ‡ä»¤ <code>v-on:event-name</code> ç›‘å¬äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ç®€å†™å½¢å¼ <code>@event-name</code>ï¼Œå¹¶è§¦å‘å›è°ƒå‡½æ•°ã€‚</p><p>ğŸ’¡ åœ¨æ¨¡æ¿ä¸­è®¾ç½®çš„äº‹ä»¶ç›‘å¬å™¨éœ€è¦ kebab-case å½¢å¼</p><p>å…¶å›è°ƒå‡½æ•°<strong>é»˜è®¤ä¼ é€’ <code>event</code> äº‹ä»¶ä½œä¸ºå‚æ•°</strong>ã€‚</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>event-with-method<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- `greet` æ˜¯åœ¨ä¸‹é¢å®šä¹‰çš„æ–¹æ³•å --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>greet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Greet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>// ...
methods: {
  greet(event) {
    // `event` æ˜¯åŸç”Ÿ DOM event
    console.log(event)
  }
}

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å¦‚æœå¸Œæœ›åŒæ—¶ä¼ é€’å‚æ•°å’Œäº‹ä»¶ï¼Œå¯ä»¥ç”¨ç‰¹æ®Šå˜é‡ <code>$event</code> æŠŠäº‹ä»¶ä¼ å…¥å›è°ƒå‡½æ•°ä¸­ï¼ˆè®°å¾—åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è®¾ç½®ç›¸åº”çš„å½¢å‚ï¼‰</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warn(<span class="token punctuation">&#39;</span>Form cannot be submitted yet.<span class="token punctuation">&#39;</span>, $event)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Submit
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>// ...
methods: {
  warn(message, event) {
    // ç°åœ¨å¯ä»¥è®¿é—®åˆ°åŸç”Ÿäº‹ä»¶
    if (event) {
      event.preventDefault()
    }
    alert(message)
  }
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ğŸ’¡ æ”¯æŒä¸ºåŒä¸€ä¸ªäº‹ä»¶è®¾ç½®<strong>å¤šä¸ªå¤„ç†å‡½æ•°</strong>ï¼Œä½¿ç”¨<strong>é€—å· <code>,</code></strong> åˆ†éš”ï¼Œè¿™æ—¶å›è°ƒå‡½æ•°<strong>å³ä½¿æ²¡æœ‰ä¼ é€’å‚æ•°ä¹Ÿè¦åŠ ä¸Š <code>()</code></strong></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- è¿™ä¸¤ä¸ª one() å’Œ two() å°†æ‰§è¡ŒæŒ‰é’®ç‚¹å‡»äº‹ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handlerOne(), handlerTwo($event)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Submit
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ğŸ’¡ æ”¯æŒ <code>v-on</code> ä¸å¸¦å‚æ•°ç»‘å®š<strong>ä¸€ä¸ªäº‹ä»¶/ç›‘å¬å™¨é”®å€¼å¯¹çš„å¯¹è±¡</strong>ã€‚æ³¨æ„å½“ä½¿ç”¨å¯¹è±¡è¯­æ³•æ—¶ï¼Œæ˜¯<strong>ä¸æ”¯æŒä»»ä½•ä¿®é¥°å™¨</strong>çš„ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- å¯¹è±¡è¯­æ³• (2.4.0+) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ mousedown: doThis, mouseup: doThat }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Vue æä¾›äº†å¤šç§äº‹ä»¶ä¿®é¥°ç¬¦ï¼Œç”¨äºæ›´æ–¹ä¾¿åœ°å¯¹äº‹ä»¶çš„è¡Œä¸ºè¿›è¡Œè®¾ç½®ï¼Œè¿™æ ·äº‹ä»¶å¤„ç†å‡½æ•°å°±å¯ä»¥åªæœ‰çº¯ç²¹çš„æ•°æ®é€»è¾‘ï¼Œè€Œä¸æ˜¯å»å¤„ç† DOM äº‹ä»¶ç»†èŠ‚ã€‚äº‹ä»¶ä¿®é¥°ç¬¦å¯ä»¥<strong>é“¾å¼</strong>è°ƒç”¨å¤šä¸ªã€‚<mark>åœ¨ Vue 3 ä¸­ä¸å†æ”¯æŒä½¿ç”¨æ•°å­— (å³é”®ç ) ä½œä¸º <code>v-on</code> ä¿®é¥°ç¬¦</mark></p><ul><li><code>.stop</code> é˜»æ­¢äº‹ä»¶ç»§ç»­ä¼ æ’­</li><li><code>.prevent</code> é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œä¾‹å¦‚è¡¨å•æäº¤åè·³è½¬åˆ°æŒ‡å®šç½‘å€</li><li><code>.self</code> å½“<strong>äº‹ä»¶åœ¨è¯¥å…ƒç´ è‡ªèº«è§¦å‘æ—¶</strong>æ‰æ‰§è¡Œäº‹ä»¶å¤„ç†å‡½æ•°</li><li><code>.once</code> åªå¯¹äº‹ä»¶è¿›è¡Œä¸€æ¬¡å“åº”åå¤±æ•ˆ</li><li><code>.capture</code> ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼</li><li><code>.passive</code> é’ˆå¯¹ <code>scroll</code> äº‹ä»¶è¿›è¡Œä¼˜åŒ–ï¼Œæé«˜æ€§èƒ½ã€‚ä½†ä¸è¦æŠŠ <code>.passive</code> å’Œ <code>.prevent</code> ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸º <code>.prevent</code> å°†ä¼šè¢«å¿½ç•¥ï¼ŒåŒæ—¶æµè§ˆå™¨å¯èƒ½ä¼šå‘ä½ å±•ç¤ºä¸€ä¸ªè­¦å‘Šã€‚</li></ul><p>å¯¹äº UI ç”¨æˆ·ç•Œé¢äº¤äº’äº‹ä»¶æ˜¯æœ€å¸¸è§çš„ï¼Œå¦‚é¼ æ ‡äº‹ä»¶ã€æŒ‰é”®äº‹ä»¶ç­‰ï¼ŒVue æä¾›äº†é¼ æ ‡å’ŒæŒ‰é”®ä¿®é¥°ç¬¦ï¼Œå¯ä»¥ç›´æ¥å°† <code>KeyboardEvent.key</code> æš´éœ²çš„ä»»æ„æœ‰æ•ˆæŒ‰é”®åè½¬æ¢ä¸º kebab-case æ¥ä½œä¸ºä¿®é¥°ç¬¦ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- å¤„ç†å‡½æ•°åªä¼šåœ¨ $event.key ç­‰äº &#39;PageDown&#39; æ—¶è¢«è°ƒç”¨ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@keyup.page-down</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onPageDown<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼" aria-hidden="true">#</a> ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼</h3><p>åœ¨çˆ¶å­ç»„ä»¶ä¸­é—´ç›‘å¬æŠ›å‡ºçš„äº‹ä»¶æ—¶ï¼Œå­ç»„ä»¶åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ <a href="https://v3.cn.vuejs.org/api/instance-methods.html#emit" target="_blank" rel="noopener noreferrer"><code>$emit()</code> æ–¹æ³•</a>æŠ›å‡ºäº‹ä»¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶åç§°ï¼Œ<strong>ç¬¬äºŒå‚æ•°ï¼ˆå¯é€‰ï¼‰æ˜¯éœ€è¦ä¼ é€’çš„æ•°æ®</strong>ï¼ˆå¦‚æœå¸Œæœ›æŠ›å‡ºå­ç»„ä»¶çš„äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„å˜é‡ <code>$event</code> ä½œä¸ºå‚æ•°ï¼‰</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$emit(<span class="token punctuation">&#39;</span>enlargeText<span class="token punctuation">&#39;</span>, 0.1)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  Enlarge text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- ä½¿ç”¨ $event è®¿é—®å­ç»„ä»¶çš„ç‚¹å‡»äº‹ä»¶ï¼Œç„¶åä½œä¸ºè‡ªå®šä¹‰äº‹ä»¶ enlargeText çš„å‚æ•°æŠ›å‡ºï¼Œè®©çˆ¶ç»„ä»¶å¯ä»¥æ¥æ”¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$emit(<span class="token punctuation">&#39;</span>enlargeText<span class="token punctuation">&#39;</span>, $event)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Enlarge text
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ç„¶ååœ¨çˆ¶ç»„ä»¶ä¸­ç›‘å¬è¿™ä¸ªäº‹ä»¶ï¼Œ<strong>å…¶å›è°ƒå‡½æ•°ä¼šå°†è¿™ä¸ªæ•°æ®ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</strong></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>blog-post</span> <span class="token attr-name">...</span> <span class="token attr-name">@enlarge-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onEnlargeText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>blog-post</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>methods: {
  onEnlargeText(enlargeAmount) {
    this.postFontSize += enlargeAmount
  }
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ğŸ’¡ å¦‚æœçˆ¶ç»„ä»¶ä¸­ä¸ä½¿ç”¨å›è°ƒå‡½æ•°ï¼Œè€Œç›´æ¥ä½¿ç”¨å†…è”å¤„ç†å™¨çš„å†™æ³•ï¼Œå¯ä»¥ä½¿ç”¨ <code>$event</code> è®¿é—®åˆ°è¢«æŠ›å‡ºçš„è¿™ä¸ªå€¼</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>blog-post</span> <span class="token attr-name">...</span> <span class="token attr-name">@enlarge-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>postFontSize += $event<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>blog-post</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="emits-é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#emits-é€‰é¡¹" aria-hidden="true">#</a> emits é€‰é¡¹</h3><p><mark>Vue 3 ç›®å‰æä¾›ä¸€ä¸ª <code>emits</code> é€‰é¡¹</mark>ï¼Œå’Œé€‰é¡¹ <code>props</code> ä½œç”¨ç±»ä¼¼ï¼Œ<strong>ç”¨æ¥å®šä¹‰å­ç»„ä»¶å¯ä»¥å‘å…¶çˆ¶ç»„ä»¶è§¦å‘çš„äº‹ä»¶</strong>ã€‚</p><p>ğŸ’¡ å¼ºçƒˆå»ºè®®ä½¿ç”¨ <code>emits</code> è®°å½•æ¯ä¸ªç»„ä»¶å¯è§¦å‘çš„æ‰€æœ‰äº‹ä»¶ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$emit(<span class="token punctuation">&#39;</span>accepted<span class="token punctuation">&#39;</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>OK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;text&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;accepted&#39;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>è¯¥é€‰é¡¹å¯ä»¥æ¥å—å­—ç¬¦ä¸²ä½œä¸ºå…ƒç´ çš„æ•°ç»„ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ã€‚åœ¨å¯¹è±¡ä¸­å¯ä»¥ä¸ºäº‹ä»¶<a href="https://v3.cn.vuejs.org/api/options-data.html#emits" target="_blank" rel="noopener noreferrer">è®¾ç½®<strong>éªŒè¯å™¨</strong></a>ï¼Œå’Œ <code>props</code> å®šä¹‰é‡Œçš„éªŒè¯å™¨ç±»ä¼¼ã€‚</p><p><mark>åœ¨å¯¹è±¡è¯­æ³•ä¸­ï¼Œæ¯ä¸ª property çš„å€¼å¯ä»¥ä¸º <strong><code>null</code> æˆ–éªŒè¯å‡½æ•°</strong>ï¼Œè¯¥å‡½æ•°å°†<strong>æ¥æ”¶è°ƒç”¨ <code>$emit</code> æ—¶ä¼ é€’çš„æ•°æ®</strong>ã€‚éªŒè¯å‡½æ•°åº”<strong>è¿”å›å¸ƒå°”å€¼</strong>ï¼Œä»¥è¡¨ç¤ºäº‹ä»¶å‚æ•°æ˜¯å¦æœ‰æ•ˆã€‚</mark></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// æ•°ç»„è¯­æ³•</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;todo-item&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;check&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;check&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å¯¹è±¡è¯­æ³•</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;reply-form&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  emits<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ²¡æœ‰éªŒè¯å‡½æ•°</span>
    click<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

    <span class="token comment">// å¸¦æœ‰éªŒè¯å‡½æ•°</span>
    <span class="token function-variable function">submit</span><span class="token operator">:</span> <span class="token parameter">payload</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>payload<span class="token punctuation">.</span>email <span class="token operator">&amp;&amp;</span> payload<span class="token punctuation">.</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Invalid submit event payload!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="è‡ªå®šä¹‰æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰æŒ‡ä»¤" aria-hidden="true">#</a> è‡ªå®šä¹‰æŒ‡ä»¤</h2><p>æŒ‡ä»¤ä¸€èˆ¬æ˜¯ä¸ºäº†æ›´æ–¹ä¾¿åœ°<strong>å¯¹æ™®é€š DOM å…ƒç´ è¿›è¡Œæ“ä½œ</strong>ï¼ŒVue æä¾›å¤šç§å†…ç½®æŒ‡ä»¤ï¼Œå¦‚ <code>v-if</code>ã€<code>v-bind</code>ã€<code>v-on</code>ã€<code>v-model</code> æ–¹ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ï¼Œä¹Ÿå…è®¸æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤ã€‚</p><h3 id="å…¨å±€æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#å…¨å±€æ³¨å†Œ" aria-hidden="true">#</a> å…¨å±€æ³¨å†Œ</h3><p>é€šè¿‡æ ¹ç»„ä»¶å®ä¾‹çš„æ–¹æ³• <code>app.directive</code> æ³¨å†Œä¸€ä¸ªå…¨å±€å¯ç”¨çš„è‡ªå®šä¹‰æŒ‡ä»¤ï¼Œç¬¬ä¸€ä¸ªå‚æ•° <code>directiveName</code> æ˜¯æŒ‡ä»¤çš„åç¼€åï¼›ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯å®šä¹‰æŒ‡ä»¤çš„è¡Œä¸ºï¼ŒVue ä¸ºè‡ªå®šä¹‰æŒ‡ä»¤æä¾›äº†<strong>é’©å­å‡½æ•°</strong>ï¼Œå¯ä»¥åœ¨æ‰€ç»‘å®šçš„å…ƒç´ çš„ä¸åŒé˜¶æ®µè¿›è¡Œè°ƒç”¨ï¼š</p><ul><li><mark><code>created</code> åœ¨ç»‘å®šå…ƒç´ çš„ attribute æˆ–äº‹ä»¶ç›‘å¬å™¨è¢«åº”ç”¨ä¹‹å‰è°ƒç”¨</mark>ã€‚åœ¨æŒ‡ä»¤éœ€è¦é™„åŠ äº‹ä»¶ç›‘å¬å™¨ï¼Œè€Œå®ƒé¡»è¦åœ¨æ™®é€šçš„ <code>v-on</code> äº‹ä»¶ç›‘å¬å™¨å‰è°ƒç”¨æ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨</li><li><mark><code>beforeMount</code> å½“æŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ å¹¶ä¸”åœ¨æŒ‚è½½çˆ¶ç»„ä»¶ä¹‹å‰è°ƒç”¨</mark></li><li><mark><code>mounted</code> åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶è¢«æŒ‚è½½åè°ƒç”¨</mark></li><li><mark><code>beforeUpdate</code> åœ¨æ›´æ–°åŒ…å«ç»„ä»¶çš„ VNode ä¹‹å‰è°ƒç”¨</mark></li><li><code>updated</code> åœ¨åŒ…å«ç»„ä»¶çš„ VNode <strong>åŠå…¶å­ç»„ä»¶çš„ VNode</strong> æ›´æ–°åè°ƒç”¨</li><li><mark><code>beforeUnmount</code> åœ¨å¸è½½ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶ä¹‹å‰è°ƒç”¨</mark></li><li><mark><code>unmounted</code> å½“æŒ‡ä»¤ä¸å…ƒç´ è§£é™¤ç»‘å®šä¸”çˆ¶ç»„ä»¶å·²å¸è½½æ—¶ï¼Œåªè°ƒç”¨ä¸€æ¬¡</mark></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&#39;directiveName&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
 <span class="token comment">// æŒ‡ä»¤æ˜¯å…·æœ‰ä¸€ç»„ç”Ÿå‘½å‘¨æœŸçš„é’©å­ï¼š</span>
  <span class="token comment">// åœ¨ç»‘å®šå…ƒç´ çš„ attribute æˆ–äº‹ä»¶ç›‘å¬å™¨è¢«åº”ç”¨ä¹‹å‰è°ƒç”¨</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶æŒ‚è½½ä¹‹å‰è°ƒç”¨</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶è¢«æŒ‚è½½æ—¶è°ƒç”¨</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// åœ¨åŒ…å«ç»„ä»¶çš„ VNode æ›´æ–°ä¹‹å‰è°ƒç”¨</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// åœ¨åŒ…å«ç»„ä»¶çš„ VNode åŠå…¶å­ç»„ä»¶çš„ VNode æ›´æ–°ä¹‹åè°ƒç”¨</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½ä¹‹å‰è°ƒç”¨</span>
  <span class="token function">beforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// å¸è½½ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶æ—¶è°ƒç”¨</span>
  <span class="token function">unmounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>ğŸ’¡ å¾ˆå¤šæ—¶å€™å¯èƒ½åªæƒ³ä½¿ç”¨ <code>mounted</code> å’Œ <code>updated</code> é’©å­å‡½æ•°ï¼Œè€Œä¸”æƒ³<strong>è§¦å‘ç›¸åŒçš„è¡Œä¸º</strong>ï¼Œå¯ä»¥ä½¿ç”¨ç®€å†™å½¢å¼ <code>app.directive(&#39;directiveName&#39;, (el, binding) =&gt; {...})</code></p><p>æŒ‡ä»¤çš„é’©å­å‡½æ•°ä¼šä¼ å…¥ä»¥ä¸‹å‚æ•°ï¼Œä»¥ä¾¿æ“ä½œæ‰€ç»‘å®šçš„ DOM å…ƒç´ å’Œä¼ é€’æ•°æ®ï¼š</p><ul><li><p><code>el</code> æ˜¯æŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œ DOM</p></li><li><p><code>binding</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹ propertyï¼š</p><ul><li><p><code>instance</code> ä½¿ç”¨æŒ‡ä»¤çš„ç»„ä»¶å®ä¾‹</p></li><li><p><code>value</code> ä¼ é€’ç»™æŒ‡ä»¤çš„å€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨ <code>v-my-directive=&quot;1 + 1&quot;</code> ä¸­ï¼Œè¯¥å€¼ä¸º <code>2</code></p></li><li><p><code>oldValue</code> å…ˆå‰çš„å€¼ï¼Œä»…åœ¨ <code>beforeUpdate</code> å’Œ <code>updated</code> ä¸­å¯ç”¨ã€‚å€¼æ˜¯å¦å·²æ›´æ”¹éƒ½å¯ç”¨</p></li><li><p><code>arg</code> å‚æ•°ä¼ é€’ç»™æŒ‡ä»¤ (å¦‚æœæœ‰)ã€‚ä¾‹å¦‚åœ¨ <code>v-my-directive:foo</code> ä¸­ï¼Œarg ä¸º <code>foo</code></p></li><li><p><code>modifiers</code> åŒ…å«ä¿®é¥°ç¬¦ (å¦‚æœæœ‰) çš„å¯¹è±¡ï¼ˆå› ä¸ºä¸€ä¸ªæŒ‡ä»¤å¯ä»¥æœ‰å¤šä¸ªä¿®é¥°ç¬¦ï¼Œä»¥é“¾å¼æ–¹å¼ <code>.a.b.c</code> ä¸²è”ä½¿ç”¨ï¼‰ã€‚ä¾‹å¦‚åœ¨ <code>v-my-directive.foo.bar</code> ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º <code>{foo: trueï¼Œbar: true}</code></p></li><li><p><code>dir</code> ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨æ³¨å†ŒæŒ‡ä»¤æ—¶ä½œä¸ºå‚æ•°ä¼ é€’</p><p>ä¾‹å¦‚ï¼Œåœ¨ä»¥ä¸‹æŒ‡ä»¤ä¸­</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&#39;focus&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>dir</code> å°†ä¼šæ˜¯ä»¥ä¸‹å¯¹è±¡</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li><li><p><code>vnode</code> Vue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹</p></li><li><p><code>prevNode</code> ä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨ <code>beforeUpdate </code> å’Œ <code>updated </code> é’©å­ä¸­å¯ç”¨</p></li></ul><p>ç„¶åå¯ä»¥åœ¨ Vue å®ä¾‹ä¸­çš„ä»»ä½•å…ƒç´ ä¸­ä½¿ç”¨è¯¥è‡ªå®šä¹‰çš„æŒ‡ä»¤ <code>&lt;tag v-directiveName=&quot;value&quot;&gt;</code></p><p>ğŸ’¡ å¦‚æœæŒ‡ä»¤éœ€è¦å¤šä¸ªå€¼ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ª JavaScript å¯¹è±¡å­—é¢é‡ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-demo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ color: <span class="token punctuation">&#39;</span>white<span class="token punctuation">&#39;</span>, text: <span class="token punctuation">&#39;</span>hello!<span class="token punctuation">&#39;</span> }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&#39;demo&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>binding<span class="token punctuation">.</span>value<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token comment">// &quot;white&quot;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>binding<span class="token punctuation">.</span>value<span class="token punctuation">.</span>text<span class="token punctuation">)</span> <span class="token comment">// &quot;hello!&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>âš ï¸ ä½¿ç”¨æŒ‡ä»¤æ—¶ï¼Œå¦‚æœè¦åŒæ—¶ä½¿ç”¨å‚æ•° <code>arg</code> å’Œä¿®é¥°ç¬¦ <code>modifier</code>ï¼Œåº”è¯¥æŒ‰ç…§å…ˆåæ¬¡åºä½¿ç”¨ï¼ˆå› ä¸º <code>arg</code> åªæœ‰ä¸€ä¸ªï¼›è€Œ <code>modifier</code> å¯ä»¥ä¸²è”å¤šä¸ªï¼Œåº”è¯¥æ”¾åœ¨æœ€åï¼‰ <code>v-directiveName:argument.modifier</code></p><h3 id="å±€éƒ¨æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#å±€éƒ¨æ³¨å†Œ" aria-hidden="true">#</a> å±€éƒ¨æ³¨å†Œ</h3><p>åœ¨ç»„ä»¶çš„é€‰é¡¹ <code>directives</code> ä¸­æ³¨å†Œå±€éƒ¨æŒ‡ä»¤ï¼Œä¹Ÿæ˜¯æä¾› 7 ä¸­é’©å­å‡½æ•°ã€‚ç„¶åå¯ä»¥åœ¨ç»„ä»¶çš„æ¨¡æ¿ä¸­ä»»ä½•å…ƒç´ ä¸Šä½¿ç”¨è‡ªå®šä¹‰çš„æŒ‡ä»¤ <code>&lt;tag v-directiveName=&quot;value&quot;&gt;</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ...</span>
directives<span class="token operator">:</span> <span class="token punctuation">{</span>
  directiveName<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¾å®šé’©å­å‡½æ•°</span>
    <span class="token function-variable function">inserted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="åº”ç”¨åˆ°ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨åˆ°ç»„ä»¶" aria-hidden="true">#</a> åº”ç”¨åˆ°ç»„ä»¶</h3><p>å’Œé prop çš„ attribute ç±»ä¼¼ï¼Œå½“åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ—¶ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤æ€»æ˜¯ä¼šè¢«<strong>åº”ç”¨åœ¨ç»„ä»¶çš„æ ¹èŠ‚ç‚¹ä¸Š</strong>ã€‚è¿™å’Œ attribute ä¸åŒï¼ŒæŒ‡ä»¤<strong>ä¸</strong>èƒ½é€šè¿‡ <code>v-bind=&quot;$attrs&quot;</code> è¢«ä¼ å…¥å¦ä¸€ä¸ªå…ƒç´ ï¼Œ<mark>å› æ­¤å½“è‡ªå®šä¹‰æŒ‡ä»¤è¢«åº”ç”¨åœ¨ä¸€ä¸ª<strong>å¤šæ ¹èŠ‚ç‚¹</strong>çš„ç»„ä»¶ä¸Šæ—¶ï¼ŒæŒ‡ä»¤ä¼šè¢«å¿½ç•¥ï¼Œå¹¶ä¸”ä¼šæŠ›å‡ºä¸€ä¸ªè­¦å‘Š</mark>ã€‚</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">æ›´æ–°æ—¶é—´: </span><span class="meta-item-info">2021/11/30 ä¸‹åˆ3:44:16</span></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><div style="width:0px;" class="catalog-container absolute top-0 right-0 h-full hidden lg:block"><div class="headings-container sticky top-36" data-v-c28348e0><ul class="max-w-max m-2 pl-7 xl:pl-16 2xl:pl-20 py-4 opacity-50 hover:opacity-100 transition-all duration-300" data-v-c28348e0><!--[--><!--]--></ul></div></div><div style="display:none;" tabindex="0" class="sidebar-container fixed inset-y-0 left-0 z-20 lg:hidden opacity-10 hover:opacity-95"><div class="headings-container px-2 space-y-2 transition-all duration-300 py-20" data-v-6eed9461><!--[--><!--]--></div></div></div><footer class="bg-gray-200 p-8 grid grid-cols-1 md:grid-cols-3 gap-4 items-center"><div class="flex justify-center md:justify-start items-center"><a class="p-2 hover:bg-gray-300 rounded-md" href="https://benbinbin.github.io/" target="_blank"><img src="/blog-web/images/avatar.png" alt="avatar" class="w-10 h-10 rounded-full"></a></div><div class="text-center space-y-0.5"><p class="text-sm text-gray-600"> Â©2021 <span class="author">Benbinbin</span>. All Right Reserved. </p><p class="text-xs text-center text-gray-400"> é™¤ç‰¹æ®Šè¯´æ˜å¤–ï¼Œæœ¬ç«™çš„æ–‡ç« éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" class="text-blue-400">CC-BY-SA-4.0</a> åè®® </p><p class="text-xs text-center text-gray-400"> ç½‘ç«™ä¸»é¢˜é‡‡ç”¨ <a href="https://github.com/Benbinbin/two-dishes-one-fish" target="_blank" class="text-blue-400">Two Dishes One Fish</a></p></div><div class="btn-container flex justify-center md:justify-end items-center space-x-0.5"><!--[--><a class="p-2 hover:bg-gray-300 rounded-md" href="mailto:benthomsonbin@gmail.com" target=""><img src="/blog-web/images/icons/email.svg" alt="email" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://github.com/Benbinbin" target="_blank"><img src="/blog-web/images/icons/github.svg" alt="github" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://juejin.cn/user/3175045314389278/posts" target="_blank"><img src="/blog-web/images/icons/juejin.svg" alt="juejin" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://dribbble.com/BinBinDesign" target="_blank"><img src="/blog-web/images/icons/dribbble.svg" alt="dribbble" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://twitter.com/Benbinbin_fun" target="_blank"><img src="/blog-web/images/icons/twitter.svg" alt="twitter" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://weibo.com/binbindesign" target="_blank"><img src="/blog-web/images/icons/weibo.svg" alt="weibo" class="w-auto h-6"></a><!--]--></div></footer></div><!--]--></div>
    <script type="module" src="/blog-web/assets/app.43fe0c63.js" defer></script>
  </body>
</html>

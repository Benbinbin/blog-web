<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <link rel="icon" href="/blog-web/images/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/katex.min.css"><title>CSS 动画 | Blog</title><meta name="description" content="A blog and knowledge management system about web.">
    <link rel="modulepreload" href="/blog-web/assets/app.43fe0c63.js"><link rel="modulepreload" href="/blog-web/assets/CSS动画.html.c93f4dfd.js"><link rel="modulepreload" href="/blog-web/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/blog-web/assets/CSS动画.html.f31ff313.js">
    <link rel="stylesheet" href="/blog-web/assets/style.b42fd117.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="min-h-screen flex flex-col"><nav class="px-4 sm:px-8 py-2 flex justify-between items-center sticky top-0 z-30 bg-white"><div class="left flex items-center space-x-0.5"><!--[--><button class="text-gray-400 hover:bg-gray-100 catelog-btn p-2 select-none text-sm font-bold hover:text-gray-900 rounded-md lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button><!--]--><a class="avatar p-2 hover:bg-gray-100 rounded-md" href="/blog-web/#"><img src="/blog-web/images/avatar.png" alt="avatar" class="w-10 h-10 rounded-full"></a></div><div class="right hidden sm:flex items-center space-x-0.5"><!--[--><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">All</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Network</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Frontend</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Backend</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Project</button><!--]--><!--[--><button class="text-gray-900 bg-gray-100 hover:bg-gray-200 p-2 select-none text-sm font-bold hover:text-gray-900 rounded-md hidden lg:block"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button><!--]--></div><div class="more-container sm:hidden relative"><button style="" class="p-2 select-none hover:bg-gray-100 rounded-md text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg></button><button style="display:none;" class="p-2 select-none hover:bg-gray-100 rounded-md text-red-400 hover:text-red-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></button><div style="display:none;" class="more-modal p-2 absolute top-10 right-0 z-10 flex flex-col space-y-2 bg-gray-100 rounded-md opacity-90"><!--[--><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">All</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Network</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Frontend</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Backend</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Project</button><!--]--></div></div></nav><div class="relative flex-grow"><div class="theme-container no-navbar no-sidebar"><!--[--><!----><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="css-动画" tabindex="-1"><a class="header-anchor" href="#css-动画" aria-hidden="true">#</a> CSS 动画</h1><p>人的大脑对对于动态的物体本能地更关注，因此为网页添加合适的动画可以更引人入胜，如 Google 制作的节约能源主题网站 <a href="https://yourplanyourplanet.sustainability.google/" target="_blank" rel="noopener noreferrer">Your Plan, Your Planet</a> 使用了大量有趣的动画引导用户进行交互探索。</p><p>CSS 动画主要使用三个属性：</p><ul><li><strong>变换 <code>transform</code></strong>：对元素进行变换，包括倾斜 <code>skew</code>，旋转 <code>rotate</code>，平移 <code>translate</code> 和缩放 <code>scale</code></li><li><strong>过渡 <code>trasition</code></strong>：设置属性变化的过渡方式，让变换形成流畅的动画</li><li><strong>关键帧 <code>keyframe</code></strong>：设置一系列关键帧并连成动画</li></ul><h2 id="变换-transform" tabindex="-1"><a class="header-anchor" href="#变换-transform" aria-hidden="true">#</a> 变换 transform</h2><p>参考：</p><ul><li><a href="https://www.jianshu.com/p/17e289fcf467" target="_blank" rel="noopener noreferrer">CSS3 transform介绍</a></li><li><a href="https://juejin.im/entry/5cf47d2ef265da1b855c3f6e" target="_blank" rel="noopener noreferrer">CSS3属性transform详解之（旋转:rotate,缩放:scale,倾斜:skew,移动:translate） - 前端 - 掘金</a></li><li><a href="https://css-tricks.com/almanac/properties/t/transform/" target="_blank" rel="noopener noreferrer">transform</a> | CSS-Tricks</li></ul><p>通过设置的 CSS 属性 <code>transform</code> 可对元素进行变换，本质上是一系列变换函数对元素的坐标轴进行改变，即其属性值可以使用一些列函数：</p><ul><li>位移 <code>translate()</code></li><li>缩放 <code>scale()</code></li><li>旋转 <code>rotate()</code></li><li>扭曲 <code>skew()</code></li><li>矩阵 <code>matrix()</code></li></ul><p><img src="/blog-web/assets/20200404231734905_27141.10a49363.gif" alt="css-transform"></p><p>👉 <a href="https://codepen.io/benbinbin/pen/eYNrJda" target="_blank" rel="noopener noreferrer">在线演示</a></p><p>💡 属性 <code>transform</code> 可以同时接受多个属性值，因此可以将多种变换（函数）同时添加到元素中。</p><h3 id="移动-translate" tabindex="-1"><a class="header-anchor" href="#移动-translate" aria-hidden="true">#</a> 移动 translate</h3><p>函数 <code>translate(n)</code> （默认）横向移动元素，效果类似于 <code>position:relative</code> 属性，基于其原来在文档流定位进行偏移。也可以传递两个值分别在水平和垂直方向上移动元素。只传递一个参数时元素只在水平方向上进行移动。</p><p>正 X 值将元素向右移动，而负 X 向左移动元素。正 Y 值向下移动元素，负 Y 值向上移动。</p><p>💡 可以使用百分比作为参数，基于元素自身的尺寸进行相应比例的偏移。</p><p>💡 可以使用函数 <code>translateX()</code> 和 <code>translateY()</code> 分别设置在元素在水平轴和垂直轴的移动。</p><h3 id="缩放-scale" tabindex="-1"><a class="header-anchor" href="#缩放-scale" aria-hidden="true">#</a> 缩放 scale</h3><p>函数 <code>scale(n)</code> 可以让元素按比例缩放元素大小，也可以传递两个值以分别设置 X 轴和 Y 轴的缩放比例。适用于调整缩放元素的 <code>font-size</code>，<code>padding</code>，<code>height</code>，和 <code>width</code> 等。传递一个值默认在两个方向上进行相同比例的缩放（可以元素原来的比例）。</p><p>缩放比例 <code>n</code> 默认值为 1，要缩小元素将 <code>n</code> 设置为 0.01～0.99 之间的值，要放大元素 <code>n</code> 取值超过 1 即可。</p><p>💡 可以使用函数 <code>scaleX()</code> 和 <code>scaleY()</code> 分别设置在水平轴和垂直轴的缩放比例</p><h3 id="旋转-rotate" tabindex="-1"><a class="header-anchor" href="#旋转-rotate" aria-hidden="true">#</a> 旋转 rotate</h3><p>函数 <code>rotate(n)</code> 可以让元素绕（默认）中心旋转。</p><p>当角度 <code>n</code> 为正数元素则顺时针旋转，为负数则逆时针旋转。其中单位可以是 <code>deg</code>、</p><h3 id="扭曲-skew" tabindex="-1"><a class="header-anchor" href="#扭曲-skew" aria-hidden="true">#</a> 扭曲 skew</h3><p>函数 <code>skew(n)</code> 将元素（默认）沿水平轴倾斜指定角度，单位为 <code>deg</code>，如将矩形倾斜扭曲为平行四边形，可以传递两个值分别设置元素沿水平轴或垂直轴倾斜的角度。只传递一个参数时元素只在水平方向上进行倾斜。</p><p>正 X 值元素向左倾斜 ，而负 X 值向右倾斜。正的 Y 值向下倾斜元素，负 Y 值倾斜向上。可以使用函数 <code>skewX(n)</code> 和 <code>skewY(n)</code> 分别设置水平和垂直方向上的倾斜。</p><h3 id="矩阵-matrix" tabindex="-1"><a class="header-anchor" href="#矩阵-matrix" aria-hidden="true">#</a> 矩阵 matrix</h3><p>函数 <code>matrix()</code> 但能将所有转换合并为一个，通过矩阵计算求出坐标以实现元素的变换，但比较难理解所以不常用。</p><ul><li>2D 变换矩阵为 3*3</li><li>3D 变换矩阵为 4*4</li></ul><p><img src="/blog-web/assets/20200405001610763_26587.6e36455c.png" alt="变换矩阵"></p><ul><li><code>matrix(sx, 0, 0, sy, 0, 0)</code> 等价于 <code>scale(sx, sy)</code></li><li><code>matrix(cosθ， sinθ, -sinθ, cosθ, 0, 0)</code> 等价于 <code>rotate(θdeg)</code></li><li><code>matrix(1, tanθy, tanθx, 1, 0, 0)</code> 等价于 <code>skew(θdeg, θdeg)</code></li></ul><p>💡 矩阵可以方便地实现镜像对象效果。</p><h3 id="变换中心点" tabindex="-1"><a class="header-anchor" href="#变换中心点" aria-hidden="true">#</a> 变换中心点</h3><p>变换的基准点默认为元素的中心，可以设置元素 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-origin" target="_blank" rel="noopener noreferrer">CSS 属性 <code>transform-origin</code></a> 修改基准点，如 <code>transform-origin: 10px 10px</code> 表示相对左上角原点向右向下分别移动 <code>10px</code> 作为基准点。</p><p>💡 属性 <code>transform-origin</code> 可以传递一个，两个或三个值来分别制定变换中心点在 XYZ 三个轴上的偏移量（Z 轴的设置只有在 3D 变换才起作用）。</p><p>💡 属性值可以使用绝对单位的数值；或相对单位的数值（如百分比）；也可以使用更直观的关键字，第一个参数可以指定为 <code>left</code>、<code>center</code>、<code>right</code>，第二个参数可以指定为 <code>top</code>、<code>center</code>、<code>bottom</code></p><h3 id="三维变换" tabindex="-1"><a class="header-anchor" href="#三维变换" aria-hidden="true">#</a> 三维变换</h3><p>在 CSS3 中还加上了 3D 效果，即变换还可以在 Z 轴上进行（正方向是朝向浏览者）。</p><p><img src="/blog-web/assets/20200404234839651_22451.ded5dfdc.png" alt="网页三维空间"></p><p>⚠️ 先需要设置元素的 CSS <strong>属性 <code>transform: perspective(n)</code></strong> 以定义透视图的景深，<strong>单位为 <code>px</code></strong>，相当于创建一个 在 Z 轴上与屏幕相距 <code>n</code> 的 3D 舞台，然后变换就会基于这个视距进行。</p><p>💡 也可以在父元素（容器）中设置<strong>属性 <code>perspective</code></strong> 为子元素设置一个相同的景深。</p><p><img src="/blog-web/assets/20200404231758544_25861.b506fc82.gif" alt="css-3d-transform"></p><p>👉 <a href="https://codepen.io/benbinbin/pen/rNVveWW" target="_blank" rel="noopener noreferrer">在线演示</a></p><p>3D 变形可使用类似的函数：</p><ul><li><code>translate3d()</code> 移动元素，可以传递三个值分别设置元素分别在三个轴的位移，也可以使用函数 <code>translateZ()</code> 单独设置元素在 Z 轴的移动，正 Z 值表示元素移近浏览者，因此元素增大。<strong>一般用于实现遮罩动效</strong>。</li><li><code>scale3d()</code> 缩放元素，可以传递三个参数，也可以使用函数 <code>scaleZ()</code> 单独设置 Z 轴的缩放。⚠️ 单独使用 <code>scale3d</code> 或 <code>scaleZ</code> 不会有任何效果，需要配合其他属性在 3D 舞台上才能出现效果，否则 Z 轴的缩放比例根本无法定义。</li><li><code>rotate3d()</code> 旋转元素，甚至可以接受四个值 <code>rotate3d(x, y, z, α)</code> 其中 alpha 表示3D舞台上旋转的角度，前面三个值范围是 -1~1 表示旋转程度（百分比），即旋转角度为 <code>x</code>、<code>y</code>、<code>z</code> 分别与 <code>α</code> 的乘积，负数表示逆时针旋转</li><li><code>matrix3d()</code></li></ul><p>⚠️ 3D 变换并无扭曲 skew 变换</p><h2 id="过渡-trasition" tabindex="-1"><a class="header-anchor" href="#过渡-trasition" aria-hidden="true">#</a> 过渡 trasition</h2><p>参考：</p><ul><li><a href="https://www.jianshu.com/p/56f8ddafc63f" target="_blank" rel="noopener noreferrer">CSS3 transition介绍</a></li><li><a href="https://www.hongkiat.com/blog/css-cubic-bezier/" target="_blank" rel="noopener noreferrer">A Look Into: Cubic-bezier in CSS3 Transition</a></li></ul><p>使用 CSS 属性 <code>transition</code> 为元素的变换设置一种平滑过渡的动画，本质上是在线性时间内将属性从开始值过渡到结束值。</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.selector</span> <span class="token punctuation">{</span>
     <span class="token property">transition</span><span class="token punctuation">:</span> &lt;property&gt; &lt;duration&gt; &lt;timing-function&gt; &lt;delay&gt;<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>属性 <code>transition</code> 是一个简写属性，最多可设置四个与转换相关子属性的属性值：</p><ul><li><code>transition-property</code> 指定需要过渡的 CSS 属性</li><li><code>transition-duration</code> 过渡需要的时间</li><li><code>transition-timing-function</code> 过渡函数</li><li><code>transition-delay</code> 延迟开始过渡的时间</li></ul><p>⚠️ 使用 <code>transition</code> 简写属性同时多个动画参数时，如果需要同时设置动画持续时间和动画延迟时间需要注意其顺序，编译器会把第一个时间设置解析为动画持续时间，而第二个时间设置解析为动画滞后时间</p><h3 id="指定过渡属性" tabindex="-1"><a class="header-anchor" href="#指定过渡属性" aria-hidden="true">#</a> 指定过渡属性</h3><p>属性 <code>trasition-property</code> 需要过渡的 CSS 属性。并不是所有属性的变化都能实现平滑过渡，<strong>通常只要能设数字（包括百分比）的属性都能过渡</strong>，如颜色、宽高、渐变等，还有 0/1 类型的属性，如 <code>visibility</code>。</p><p>当然元素一般会指定其变换 <code>transform</code> 为监控/应用过渡的属性，以实现动效变换视觉效果。</p><p>💡 可以使用关键字 <code>all</code> 将该元素的所有改变的属性进行过渡。</p><p>💡 在元素设置的过渡，可以监控并将过渡应用于元素伪类，如 <code>:hover</code>，设置作出的变换。</p><h3 id="指定过渡时间" tabindex="-1"><a class="header-anchor" href="#指定过渡时间" aria-hidden="true">#</a> 指定过渡时间</h3><p>属性 <code>transition-duration</code>设置过渡需要持续的时间，单位可指定s秒，也可指定ms毫秒。默认值是0，表示立刻变化。</p><p>如果设置了多个过渡属性，但每个属性的过渡时间都一样，可以只有设一个即可，该值会应用到所有过渡属性上。</p><h3 id="指定过渡函数" tabindex="-1"><a class="header-anchor" href="#指定过渡函数" aria-hidden="true">#</a> 指定过渡函数</h3><p>属性 <code>trasition-timming-function</code> 设置过渡方式（函数）。过渡函数即设置过渡的速度节奏，可以通过预设关键字进行设置：</p><ul><li><code>linear</code> 匀速过渡，等同于贝塞尔曲线 <code>cubic-bezier(0, 0, 1, 1)</code></li><li><code>ease</code> 先快再慢的节奏（默认值），等同于贝塞尔曲线 <code>cubic-bezier(0.25, 0.1, 0.25, 1)</code></li><li><code>ease-in</code> 加速冲刺的节奏，等同于贝塞尔曲线 <code>cubic-bezier(0.42, 0, 1, 1)</code></li><li><code>ease-out</code> 减速到停止的节奏，等同于贝塞尔曲线 <code>cubic-bezier(0, 0, 0.58, 1)</code></li><li><code>ease-in-out</code> 先加速后减速的节奏（相对而言动效最平滑），等同于贝塞尔曲线 <code>cubic-bezier(0.42, 0, 0.58, 1)</code></li></ul><p>这些预设的过渡模式对应一条贝塞尔曲线，可视化曲线横坐标表示时间，纵坐标表示距离，其斜率就是变化的速度。</p><p><img src="/blog-web/assets/20200404231911307_2058.79a63b53.png" alt="bezier-curve"></p><p>可以借助<a href="https://cubic-bezier.com/" target="_blank" rel="noopener noreferrer">在线可视化工具</a>自定义贝塞尔曲线并生成相应的 <code>cubic-bezier(n,n,n,n)</code> 函数。</p><p><img src="/blog-web/assets/20200404231936120_2014.35b8c6e5.gif" alt="set-cubic-bezier"></p><blockquote><p><em>贝塞尔曲线是计算机图形学中常用的曲线模型。使用矢量图形编辑器，如 Adobe Illustrato r或Inkscape 的钢笔工具可绘制出这类曲线。</em></p><p><em>该曲线由四个点组成，左下为起始点 P0 坐标固定为 (0,0)，右上为终点 P3 坐标固定为 (1,1)，中间有两点 P1 和 P2 的坐标就是 <code>cubic-bezier(n,n,n,n)</code>的参数。</em></p><p><em>基于特定的规则通过将 4 条连起来的直线生成平滑的曲线。</em></p><p><em>参考：</em></p><ul><li><em><a href="https://www.jianshu.com/p/56f8ddafc63f" target="_blank" rel="noopener noreferrer">CSS3 transition介绍</a></em></li><li><em><a href="https://www.hongkiat.com/blog/css-cubic-bezier/" target="_blank" rel="noopener noreferrer">A Look Into: Cubic-bezier in CSS3 Transition</a></em></li></ul></blockquote><p><img src="/blog-web/assets/20200404232001051_7914.3e86d1ea.gif" alt="cubic-bezier"></p><p>💡 过渡函数除了使用贝塞尔曲线，还可以使用函数 <code>steps(n, end)</code> 相当于将过渡过程从头至尾分成 <code>n</code> 步，并非像贝塞尔曲线那样平滑过渡，在每一步瞬间完成过渡。函数有两个参数，第一个参数是分割的数量，第二个可选参数是关键字 <code>start</code> 或 <code>end</code>（默认值），指定过渡结束后停留的状态，<code>start</code> 表示停留在开始状态，<code>end</code> 表示停留在结束状态。此外还可以使用 <code>step-start(n)</code> 或 <code>step-end(n)</code> 表示。</p><p><img src="/blog-web/assets/20200405095251055_24827.6a4a3047.png" alt="step-function"></p><h3 id="延迟过渡的开始" tabindex="-1"><a class="header-anchor" href="#延迟过渡的开始" aria-hidden="true">#</a> 延迟过渡的开始</h3><p>属性 <code>transition-delay</code> 设置需要延迟过渡开始的时间。默认值是0，表示不延迟，立即开始过渡动作。单位是s秒或ms毫秒。</p><h2 id="关键帧动画" tabindex="-1"><a class="header-anchor" href="#关键帧动画" aria-hidden="true">#</a> 关键帧动画</h2><p>参考：</p><ul><li><a href="https://www.jianshu.com/p/ed11f8c26992" target="_blank" rel="noopener noreferrer">CSS3 animation介绍 - 简书</a></li><li><a href="https://thoughtbot.com/blog/css-animation-for-beginners" target="_blank" rel="noopener noreferrer">CSS Animation for Beginners</a></li><li><a href="https://css-tricks.com/snippets/css/keyframe-animation-syntax/" target="_blank" rel="noopener noreferrer">Keyframe Animation Syntax</a></li></ul><p>关键帧动画与相当于传统动画制作一样，使用关键字 <code>@Keyframes</code> 设置不同阶段下属性的不同样式，每一种样式状态成为动画相应阶段的关键帧；使用元素的 CSS 属性 <code>animation</code> 绑定预设的关键字 <code>@keyframes</code> 并定义这些关键帧切换过渡的方式以实现更丰富的动画效果。</p><h3 id="关键帧" tabindex="-1"><a class="header-anchor" href="#关键帧" aria-hidden="true">#</a> 关键帧</h3><p>使用 <code>@keyframes</code> 选择器创建动画帧，其后添加动画名称。不同阶段使用百分比表示，也可以使用关键字 <code>from</code> 和 <code>to</code> 分别表示特定的 <code>0%</code> 和 <code>100%</code> 阶段，而不同阶段的属性样式则在 <code>{}</code> 内进行设置。</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@keyframes</span> animationName</span> <span class="token punctuation">{</span>
    <span class="token selector">keyframes-stage1</span> <span class="token punctuation">{</span>
        //css-styles
    <span class="token punctuation">}</span>
    <span class="token selector">keyframes-stage2</span> <span class="token punctuation">{</span>
        //css-styles
    <span class="token punctuation">}</span>
    ...
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="动画" tabindex="-1"><a class="header-anchor" href="#动画" aria-hidden="true">#</a> 动画</h3><p>属性 <code>animation</code> 是一个简写形式，分别可以设置多种子属性值：</p><ul><li><p><code>animation-name</code> 设置需要绑定的动画名称（指定 <code>@keyframes</code> 的名字），可以指定多个属性值（以逗号 <code>,</code> 分隔）</p></li><li><p><code>animation-duration</code> 动画持续时间，默认是 0 表示无动画，单位可以设 s 秒或 ms 毫秒</p></li><li><p><code>animation-timing-function</code> 关键帧的过渡方式，可以使用关键字 <code>linear</code>、<code>ease</code>、<code>ease-in</code>、<code>ease-out</code>、<code>ease-in-out</code> 或使用定制的贝塞尔曲线函数 <code>cubic-bezier(n, n, n, n)</code>。也支持函数 <code>steps()</code> 当不常用。</p></li><li><p><code>animation-delay</code> 动画延迟开始的时间，默认值是 0，表示不延迟，立即播放动画。单位是 s 秒或 ms 毫秒。如果是负数，动画会立即执行，并<strong>跳过</strong>相应的动效时间。</p></li><li><p><code>animation-iteration-count</code> 动画循环次数，默认值为 1，即放完一遍后不循环播放。设为关键字 <code>infinite</code> 表示无限循环播放。</p></li><li><p><code>animation-direction</code> 动画播放的方向，可设 <code>normal</code>（默认值，正常播放），<code>reverse</code> 反方向、<code>alternate</code> 交替正反向、<code>alternate-reverse</code>。<code>alternate</code> 配合多次或循环播放使用，轮转正反向播放动画，即动画会在第奇数次 1，3，5… 正向播放，而在偶数次 2，4，6… 反向播放。<code>alternate-reverse</code> 则正好反过来，奇数次反向播动画，偶数次正向播动画。替换 <code>alternate</code> 轮转播放「倒回去」循环不断可以实现闪烁效果。</p></li><li><p><code>animation-play-state</code> 动画的状态，可设 <code>running</code>（默认值） 或 <code>paused</code>（表示暂停动画）。通常可以结合 JavaScript 修改该属性 <code>object.style.animationPlayState=”paused”</code> 来暂停动画。</p></li><li><p><code>animation-fill-mode</code> 动画停止时的状态（动画完成或延迟未开始播放时），可设置多种属性值</p><ul><li><code>none</code> 默认值，动画播完后恢复到 <code>0%</code> 阶段的初始状态</li><li><code>forwards</code> 当动画播完后，保持 <code>@keyframes</code> 里最后一帧的样式状态</li><li><code>backwards</code> 在开始播动画前，将 <code>@keyframes</code> 里第一帧的属性设置应用于元素中（看出效果需要结合 <code>animation-delay</code> 使用）</li><li><code>both</code> 同时应用 <code>forwards</code> 和 <code>backforwards</code> 设置</li></ul></li></ul><p><img src="/blog-web/assets/20200404232034793_25244.9d665d5c.gif" alt="heart-beat"></p><p>👉 <a href="https://codepen.io/benbinbin/pen/NWqMjoG" target="_blank" rel="noopener noreferrer">在线演示</a></p><p>💡 使用简写属性 <code>animation</code> 可以方便地一次性设置以上各种参数。</p><p>⚠️ 使用 <code>animation</code> 简写属性同时多个动画参数时，如果需要同时设置动画持续时间和动画延迟时间需要注意其顺序，编译器会把第一个时间设置解析为动画持续时间，而第二个时间设置解析为动画滞后时间</p><p>👍 更多的有趣动画设计可以参考 <a href="https://github.com/daneden" target="_blank" rel="noopener noreferrer">Dan Eden</a> 的 <a href="https://github.com/daneden/animate.css" target="_blank" rel="noopener noreferrer">animate.css</a> 动画库</p><h2 id="浏览器优化" tabindex="-1"><a class="header-anchor" href="#浏览器优化" aria-hidden="true">#</a> 浏览器优化</h2><p>属性 <code>will-change</code> 可以提前通知浏览器，该元素即将进行什么类型的动画，让浏览器提前进行合适的优化设置（如调用 GPU 进行 3D 动画渲染）。多种属性值可选：</p><ul><li><code>auto</code> 没有指定特定的动画类型，适用于通常所作的任何启发式和优化</li><li><code>scroll-position</code> 表示将要改变元素的滚动位置（如滚屏操作）</li><li><code>contents</code> 表示将要改变元素的内容</li><li><code>&lt;custom-ident&gt;</code> 明确指定将要改变的属性和给定的名称，如 <code>will-change: transform</code> 表示元素将进行变换（推荐）</li><li><code>&lt;animateable-feature&gt;</code> 可动画的一些特征值，如 <code>left</code>、<code>top</code>、<code>margin</code> 等</li></ul><p>⚠️ 不能滥用 <code>will-change</code> 否则可能引起页面崩溃；应该利用 JavaScript 设置该属性，在不需要时将其 <code>remove</code> 移除。</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">更新时间: </span><span class="meta-item-info">2021/9/14 上午2:29:18</span></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><div style="width:0px;" class="catalog-container absolute top-0 right-0 h-full hidden lg:block"><div class="headings-container sticky top-36" data-v-c28348e0><ul class="max-w-max m-2 pl-7 xl:pl-16 2xl:pl-20 py-4 opacity-50 hover:opacity-100 transition-all duration-300" data-v-c28348e0><!--[--><!--]--></ul></div></div><div style="display:none;" tabindex="0" class="sidebar-container fixed inset-y-0 left-0 z-20 lg:hidden opacity-10 hover:opacity-95"><div class="headings-container px-2 space-y-2 transition-all duration-300 py-20" data-v-6eed9461><!--[--><!--]--></div></div></div><footer class="bg-gray-200 p-8 grid grid-cols-1 md:grid-cols-3 gap-4 items-center"><div class="flex justify-center md:justify-start items-center"><a class="p-2 hover:bg-gray-300 rounded-md" href="https://benbinbin.github.io/" target="_blank"><img src="/blog-web/images/avatar.png" alt="avatar" class="w-10 h-10 rounded-full"></a></div><div class="text-center space-y-0.5"><p class="text-sm text-gray-600"> ©2021 <span class="author">Benbinbin</span>. All Right Reserved. </p><p class="text-xs text-center text-gray-400"> 除特殊说明外，本站的文章遵循 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" class="text-blue-400">CC-BY-SA-4.0</a> 协议 </p><p class="text-xs text-center text-gray-400"> 网站主题采用 <a href="https://github.com/Benbinbin/two-dishes-one-fish" target="_blank" class="text-blue-400">Two Dishes One Fish</a></p></div><div class="btn-container flex justify-center md:justify-end items-center space-x-0.5"><!--[--><a class="p-2 hover:bg-gray-300 rounded-md" href="mailto:benthomsonbin@gmail.com" target=""><img src="/blog-web/images/icons/email.svg" alt="email" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://github.com/Benbinbin" target="_blank"><img src="/blog-web/images/icons/github.svg" alt="github" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://juejin.cn/user/3175045314389278/posts" target="_blank"><img src="/blog-web/images/icons/juejin.svg" alt="juejin" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://dribbble.com/BinBinDesign" target="_blank"><img src="/blog-web/images/icons/dribbble.svg" alt="dribbble" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://twitter.com/Benbinbin_fun" target="_blank"><img src="/blog-web/images/icons/twitter.svg" alt="twitter" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://weibo.com/binbindesign" target="_blank"><img src="/blog-web/images/icons/weibo.svg" alt="weibo" class="w-auto h-6"></a><!--]--></div></footer></div><!--]--></div>
    <script type="module" src="/blog-web/assets/app.43fe0c63.js" defer></script>
  </body>
</html>

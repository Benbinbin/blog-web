---
show: true
cover: tailwindcss.png
collection: TailwindCSS
collectionOrder: 4
summary: TailwindCSS 核心思想：Tailwind 提供了多种基础类，这些基础类按照规则可以用横线 - 相连进行组合，构成特点的语义，将相应的 UI 样式应用在 HTML 元素上
tags:
  - CSS
  - TailwindCSS
---

# 核心思想
Tailwind CSS 的设计遵循以下的一些规则，了解这些特点可以更快地上手该 UI 框架。

## 基础类
Tailwind 提供了多种[默认基础类](https://github.com/tailwindlabs/tailwindcss/blob/master/stubs/defaultConfig.stub.js)，如断点 `bg` 表示 `background`，这些基础类按照规则可以用横线 `-` 相连进行**组合**，构成特点的语义，例如 `bg-white` 表示背景色采用白色，经过编译后生成相应的样式表，这样就可以将样式应用在 HTML 元素上。

==使用 Tailwind 提供的这些基础类 class 不同组合，可以不写一行代码，（无需离开 HTML 文档）就实现复杂的页面样式设计。==

:bulb: 使用基础类，实际是从预设的[设计系统](https://tailwindcss.com/docs/theme)中挑选样式，这样可以保持设计的视觉统一；而这些底层 low level 的基础样式的自由组合，则满足定制化的需求，避免设计出来的网页千遍一律。这样**一致性**和**自由度**都可以兼得。

:bulb: 使用基础类来设置样式，其中一个问题是页面会出现很多重复的基础类组合，例如页面的所有按钮元素需要设置相同的样式，所以它们具有相同的基础类组合，而如果对它们进行样式更新时就变得很繁琐了，需要依次改它们的类名。Tailwind 支持将这些重复使用的基础类组合**提取**出来，并提供 `@apply` 指令来将它们应用到样式表中，再给它们其一个更抽象的类名，如 `btn`，这样就可以复用这些基础类组合了，而且便于后续的维护。

## 状态变量
通过在基础类前添加相应的**状态变量**，如类似于伪类选择器的字符串，悬停 `hover`、聚焦 `focus` 等，并用冒号 `:` 分隔，即可==设置相应状态下元素的样式==。

Tailwind 提供了多种常见的状态变量：
* [和伪类选择器相对应的](https://tailwindcss.com/docs/hover-focus-and-other-states#pseudo-classes)，如 `hover`、`focus`、`first-child`、`required`
* [和伪元素选择器相对应的](https://tailwindcss.com/docs/hover-focus-and-other-states#pseudo-elements)，如 `before`、`after`、`selection`、`placeholder`
* [媒体查询相关的](https://tailwindcss.com/docs/hover-focus-and-other-states#media-queries)，如 `sm`（尺寸）、`dark`（暗夜模式）、`prefers-reduced-motion`（动画模式）
* [元素专属特定相关](https://tailwindcss.com/docs/hover-focus-and-other-states#attribute-selectors)，如 `<details>` 或 `<dialog>` 元素在 open state 展开状态的样式设置可以使用状态变量 `open`、字体排列顺序 RTL 或 LTR 可以使用状态属性 `rtl` 和 `ltr` 表示

:bulb: 而这些样式设置方式都是 inline-style 无法实现的。**而且这些状态属性可以「叠加」使用，来为元素设置在特定的几个状态同时触发时的样式**

```html
<!-- 鼠标在按钮上悬停时，颜色变深 -->
<!-- 在暗夜模式开启且鼠标在按钮上悬停时，颜色变浅 -->
<button class="bg-teal-500 hover:bg-teal-600 dark:hover:bg-teal-300">Sign Up</button>
```

:bulb: 除了常见的类似于伪类选择器的状态变量，Tailwind 还支持自定义[状态变量 state variants](https://tailwindcss.com/docs/hover-focus-and-other-states#creating-custom-modifiers)，可以使用 `plugins` 模块来[定制](https://tailwindcss.com/docs/plugins#adding-variants)

```js
// 📁 tailwind.config.js
const plugin = require('tailwindcss/plugin'); // 需要先导入插件模块

module.exports = {
  // ...
  plugins: [
    plugin(function({ addVariant, e }) {
      plugin(function ({ addVariant }) {
      // Add a `third` variant, ie. `third:pb-0`
      addVariant('third', '&:nth-child(3)')
    })
  ]
}
```

## 响应式设计
Tailwind 提供[五个默认的断点](https://tailwindcss.com/docs/responsive-design)：

* `sm` 640px
* `md` 768px
* `lg` 1024px
* `xl` 1280px
* `2xl` 1536px

只需要在类名前添加断点名称，并用冒号 `:` 分隔，即可将该样式设定特定页面宽度下才起作用

```html
<!-- Width of 16 by default, 32 on medium screens, and 48 on large screens -->
<img class="w-16 md:w-32 lg:w-48" src="...">
```

:bulb: Tailwind 的断点都是基于 `min-width` 最小宽度的，这是遵循移动优先 mobile first 的原则，即默认样式就是移动端小屏的样式，然后断点是当页面宽度大于特定值时，才将样式响应式地进行变化。

## 重用样式
在 HTML 中会有大量相同的类组合，如页面的按钮都使用了很多相同基础类，为了避免代码冗余以及后续维护方便，可以将这些相同的一系列基础类**提取**出来，在它们前面添加关键字 `@apply` 然后写在样式表中，被为它们指定一个类名，即可将它们「汇总」在一个类名下，然后我们就可以将类名添加在 HTML 标签中，最后产生相同的样式效果。

```html
<!-- 原始的按钮元素 -->
<!-- 📁 index.html -->
<!-- Repeating these classes for every button can be painful -->
<button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
  Button
</button>
```

```html
<!-- 提取样式后的按钮元素 -->
<!-- 📁 index.html -->
<button class="btn-blue">
  Button
</button>
```

```css
/* 📁 styles.css */
.btn-blue {
  @apply bg-blue-500 text-white font-bold py-2 px-4 rounded;
}

.btn-blue:hover {
  @apply bg-blue-700;
}
```

## 自定义基础类
可以使用 Tailwind CSS 的配置文档 `tailwind.config.js` 添加自定义基础类。

而且 Tailwind 提供了**覆写**原有的预设值，和**扩展**其他值的两种自定义方式。

:bulb: 所有配置都是可选的，如果基础类在配置文件中没有设置，则会使用 Tailwind 的[预设值](https://github.com/tailwindlabs/tailwindcss/blob/master/stubs/defaultConfig.stub.js)。

```js
// 📁 tailwind.config.js
module.exports = {
  important: true,
  theme: {
    // 在 theme 属性下添加的基础类会以覆写（原有的预设值）的方式来添加自定义基础类
    // 设置 fontFamily 基础类
    fontFamily: {
      display: ['Gilroy', 'sans-serif'],
      body: ['Graphik', 'sans-serif'],
    },
    extend: {
      // 在 theme 属性的 extend 属性下添加的基础类会以扩展的方式来添加自定义基础类
      // 扩展 colors 基础类
      colors: {
        cyan: '#9cdbff',
      },
      // 扩展 margin 基础类
      margin: {
        '96': '24rem',
        '128': '32rem',
      },
    }
  },
}
```

此外还提供了 `util-[value]` 的方式来方便地为特定的样式属性应用任意值，其中 `util` 表示基础类，后面用 `-` 连字符相连的，在方括号 `[]` 中的 `value` 就是该样式的值

```html
<!-- 将字体大小设置为 22px -->
<div class="text-[22px]">Hello World</div>
```

## 函数与指令
* `@tailwind` 指令将 Tailwind 的预设基础样式导入到项目的样式表中。

  其中 Tailwind 提供了三个模块 `base`、`components`、`utilities` 一般都需要将它们在样式表的开头**依次**导入（因为 CSS 的顺序很重要）

  ```css
  /* 📁 styles.css */
  /**
  * This injects Tailwind's base styles and any base styles registered by
  * plugins.
  */
  @tailwind base;
  ```

* `@apply` 指令将行内存在的（共用）基础类提取出来放到项目的 CSS 样式表中，「汇总」为一个类，然后在 HTML 元素就可以只写这个类名就应用其包含的所有基础类

  ```css
  /* 📁 styles.css */
  .btn {
    @apply font-bold py-2 px-4 rounded;
  }

  /* 可以插入到已有样式设置的类中 */
  .btn:hover {
    @apply bg-blue-700;
    transform: translateY(-1px);
  }
  ```

* `@layer` 指令告诉 Tailwind 自定义样式属于哪个 bucket 容器（由于 CSS 的顺序很重要），其中的自定义样式就会生成在相应的「容器」中，这里的容器一般指前面的三个 Tailwind 模块 `base`、`components`、`utilities` 它们依次编译生成到样式表中

  ```css
  /* 📁 styles.css */
  @tailwind base;
  @tailwind components;
  @tailwind utilities;

  /* 表示里面的自定义样式会在 base 模块后面生成 */
  @layer base {

    h1 {
      @apply text-2xl;
    }
    h2 {
      @apply text-xl;
    }
  }

  /* 表示里面的自定义样式会在 components 模块后面生成 */
  @layer components {
    .btn-blue {
      @apply bg-blue-500 text-white font-bold py-2 px-4 rounded;
    }
    .btn-blue:hover {
      @apply bg-blue-700;
    }
  }

  /* 表示里面的自定义样式会在 utilities 模块后面生成 */
  @layer utilities {
    @variants hover, focus {
      .filter-none {
        filter: none;
      }
      .filter-grayscale {
        filter: grayscale(100%);
      }
    }
  }
  ```
---
collection: TypeScript
collectionOrder: 2
---



# 安装与编译

## 安装

:bulb: TypeScript 需要在 Node.js 环境下进行编译，因此操作系统要安装 Node.js

在终端输入以下命令在全局环境下安装 TypeScript

```bash
npm install -g typescript
```



## 编译

创建一个 TypeScript 文件 `hello.ts`

```ts
function sayHello(person: string) {
    return 'Hello, ' + person;
}

let user = 'Tom';
console.log(sayHello(user));
```

:bulb: 在 TypeScript 文档里**在变量后使用 `:` 指定类型**（冒号前后有没有空格都可以）。以上示例指定了函数 `sayHello` 的参数 `person` 的数据类型是 `string`。

然后就可以在终端使用 `tsc fileName.ts` 命令编译 `fileName.ts` 文件

```bash
tsc hello.ts
```

:bulb: 使用 TypeScript 编写的文件以 `.ts` 为后缀，用 TypeScript 编写 React 时，以 `.tsx` 为后缀。

:hammer: 编译后得到文件 `hello.js`

```js
function sayHello(person) {
    return 'Hello, ' + person;
}
var user = 'Tom';
console.log(sayHello(user));
```

编译为 js 后并没有检查类型的代码插入进来，这是因为 **TypeScript 只会在编译时对类型进行静态检查，如果发现有错误，编译的时候就会报错**（但默认还是会编译出相应的 js 文件，如果要在报错的时候终止 js 文件的生成，可以在 `tsconfig.json` 中配置 `noEmitOnError`），而在运行时，与普通的 JavaScript 文件一样，不会对类型进行检查。

### 编译选项

TypeScript 提供了非常多的编译选项，一般在项目的根目录下的 `tsconfig.json` 文档中配置：

* `allowJs`：设置为 `true` 时，js 文件会被 tsc 编译，否则不会。一般在项目中 js、ts 混合开发时需要设置。
* `allowSyntheticDefaultImports`：允许对不包含默认导出的模块使用默认导入。这个选项不会影响生成的代码，只会影响类型检查。即当它设置为 `true` 时，允许使用 `import foo from 'foo'` 来导入一个通过 `export = foo` 导出的模块（是 ts 为了兼容 commonjs 创造的语法）。

# Vue 2 基础

Vue 是渐进式 JavaScript 框架，与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。因此既可以嵌入到已有项目中，优化其中一部分代码；也可以基于 Vue 三大套件开发管理大型项目。

## 参考

* [《[ 想入門，我陪你 ] Re Vue 重頭說起》](https://www.youtube.com/channel/UCEL8871qFEakpqYpwBSjHNA)系列教程
* [Vue 2 官方文档](https://cn.vuejs.org/)

## 实例化

最简单引入 Vue 的方法是使用 CDN

```html
<!-- 开发环境版本，包含了有帮助的命令行警告 -->
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
```

使用 `new Vue({})` 的方式实例化一个 Vue 应用。其中接收的参数是一个选项对象，设置关于 Vue 实例的选项，例如 `el` 属性是指定挂载的 DOM 节点，`data` 属性是包含响应式的数据。

:bulb: 从组件化的角度看，Vue 实例也是一个**根组件**

```html
<body>
  <div id="app"></div>
  <script>
    // 一般使用变量名 `vm`「存储」 Vue 实例，这是 ViewModel 的缩写
    const vm = new Vue({
      el: '#app',
      data: {
          name: 'Ben'
      }
    })
  </script>
</body>

```

:bulb: 如果在选项对象中没有属性 `el`，需要手动显式调用方法 `vm.$mount('#app')` 将 Vue 实例挂载到指定的 DOM 节点上。

:bulb: Vue 实例还暴露了一些有用的实例 property 与方法。它们都有前缀 `$`

```js
const vm = new Vue({
  el: '#app',
  data: {
    name: 'Ben'
  }
})

vm.$data === data // true
vm.$el === document.getElementById('app') // true

// $watch 设置一个侦听器
vm.$watch('name', function (newValue, oldValue) {
  // 这个回调将在 `vm.name` 改变后调用
})
```

:clapper: [视频教程](https://www.youtube.com/embed/Y50_RSWpWkA?start=3403&end=3441&modestbranding=1)中说到一个小 trick：

<!-- <iframe style="width: 100%;aspect-ratio: 16/9;" src="https://www.youtube.com/embed/Y50_RSWpWkA?start=3403&end=3441&modestbranding=1&rel=0" allowfullscreen></iframe> -->

<iframe style="width: 100%;aspect-ratio: 16/9;" src="//player.bilibili.com/player.html?aid=759111032&bvid=BV1W64y1X7ok&cid=366423332&page=1&high_quality=1" allowfullscreen="true"> </iframe>


如果将 Vue 「嵌入」到原有项目时，应该使用[立即调用函数表达式 immediately-invoked function expressions，IIFE](https://zh.javascript.info/var#iife) 包裹代码，可以模拟构建出块级作用域，代码立即执行并拥有了自己的私有变量，避免污染全局变量。另外在最前面加上 `; ` 是为了避免一些打包程序在合并代码的时候，错误地将立即执行函数识别为前一行代码中函数的参数。

```js
; (function () {
  new Vue({
    el: '#section5',
    data: {
      name: 'Ben',
      year: new Date().getFullYear()
    },
  })
})()
```




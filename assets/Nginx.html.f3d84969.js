import{c as n}from"./app.43fe0c63.js";import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";var e="/blog-web/assets/20201104133834330_8911.70a87919.png";const a={},r=n('<h1 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx" aria-hidden="true">#</a> Nginx</h1><p>Nginx \u662F\u9AD8\u6027\u80FD\u7684 web server\uFF0C\u5F00\u6E90\u514D\u8D39\uFF0C\u4E00\u822C\u7528\u4F5C\u9759\u6001\u670D\u52A1\uFF08\u670D\u52A1\u7AEF\u4E0D\u9700\u8981\u89E3\u6790\uFF0C\u76F4\u63A5\u8FD4\u56DE\u8BF7\u6C42\u6587\u4EF6\uFF09\u3001\u8D1F\u8F7D\u5747\u8861\uFF1B<strong>\u53CD\u5411\u4EE3\u7406</strong>\uFF08\u5BF9\u5BA2\u6237\u7AEF\u4E0D\u53EF\u9006\uFF0C\u5BA2\u6237\u7AEF\u65E0\u6CD5\u63A7\u5236\uFF09\u5B9E\u73B0\u524D\u540E\u7AEF\u540C\u57DF\u8054\u8C03\uFF0C\u89E3\u51B3 cookie \u8DE8\u57DF\u4E0D\u5171\u4EAB\uFF08\u4E00\u822C\u5728\uFF08\u672C\u5730\uFF09\u5F00\u53D1\u65F6\u524D\u7AEF\u5F00\u542F\u7684 server \u548C\u540E\u7AEF\u5F00\u542F\u7684 server \u7AEF\u53E3\u4E0D\u4E00\u81F4\uFF09\u3002</p><p><img src="'+e+`" alt="Nginx \u53CD\u5411\u4EE3\u7406\u6A21\u578B"></p><h2 id="\u5B89\u88C5\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u542F\u52A8" aria-hidden="true">#</a> \u5B89\u88C5\u542F\u52A8</h2><ol><li>\u5728 <a href="https://nginx.org/" target="_blank" rel="noopener noreferrer">Nginx \u5B98\u7F51</a>\u4E0B\u8F7D\u9002\u5408\u7CFB\u7EDF\u7684\u8F6F\u4EF6\u5305\u5E76\u89E3\u538B \u{1F4A1} Windows \u7CFB\u7EDF\u5B89\u88C5\u65B9\u6CD5\u53C2\u8003<a href="http://nginx.org/en/docs/windows.html" target="_blank" rel="noopener noreferrer">\u5B98\u65B9\u6587\u6863</a></li><li>\u6253\u5F00\u8F6F\u4EF6\u5B89\u88C5\u76EE\u5F55\u4E0B\u7684 <code>.\\conf\\nginx.conf</code> \u6587\u4EF6\uFF0C\u4FEE\u6539\u5176\u4E2D\u7684 Nginx \u914D\u7F6E</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#user  nobody;
worker_processes  2;   # \u57FA\u4E8E\u7CFB\u7EDF\u7684 CPU \u6838\u5FC3\u914D\u7F6E\u670D\u52A1\u5668\u7684\u8FDB\u7A0B

# ...
server {
    listen       8080;   # \u4FEE\u6539\u670D\u52A1\u5668\u76D1\u542C\u7684\u7AEF\u53E3
    # ...
    # \u6CE8\u91CA\u4EE5\u4E0B\u90E8\u5206
    #location / {
    #    root   html;
    #    index  index.html index.htm;
    #}
    # \u6DFB\u52A0\u4EE3\u7406\u8BBE\u7F6E
    location / {
        # \u5982\u679C\u8BF7\u6C42\u8BBF\u95EE\u7684\u662F nginx \u670D\u52A1\u5668\u7684\u6839\u76EE\u5F55\uFF08\u9759\u6001\u6587\u4EF6\uFF09\u5C31\u4EE3\u7406\u5230\u57DF\u540D\u548C\u7AEF\u53E3\u4E3A http://localhost:8001; \u670D\u52A1\u5668
        proxy_pass: http://localhost: 8001;
    }
    location /api/ {
        # \u5982\u679C\u8BF7\u6C42\u8BBF\u95EE\u7684\u662F nginx \u670D\u52A1\u5668\u7684 /api/ \u5C31\u4EE3\u7406\u5230\u57DF\u540D\u548C\u7AEF\u53E3\u4E3A http://localhost:8000; \u670D\u52A1\u5668\uFF0C\u5E76\u8BBE\u7F6E header \u4E3A\u539F\u6765\u7684 host\uFF08\u540C\u6E90\u4F20\u9012 cookie\uFF09
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
    }
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>\u{1F4A1} \u5982\u679C\u51FA\u73B0\u9519\u8BEF <code>nginx: [emerg] bind() to 0.0.0.0:8080 failed (10013: An attempt was made to access a socket in a way forbidden by its access permissions)</code> \u8868\u793A\u5DF2\u6709\u76F8\u5173\u7684\u8FDB\u7A0B\u5360\u7528\u4E86\u76F8\u5173\u7684\u7AEF\u53E3\uFF0C\u53EF\u4EE5\u66F4\u6539\u914D\u7F6E\u4E2D\u7684 <code>listen</code> \u76D1\u542C\u7684\u7AEF\u53E3\u3002</p><p>\u{1F4A1} \u53EF\u4EE5\u8FD0\u884C <code>nginx -t</code> \u6765\u67E5\u770B\u914D\u7F6E\u8BED\u6CD5\u662F\u5426\u6B63\u786E\uFF0C\u914D\u7F6E\u6D4B\u8BD5\u662F\u5426\u6210\u529F\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>nginx -t
<span class="token comment"># \u6D4B\u8BD5\u6210\u529F\u8F93\u51FA</span>
<span class="token comment"># nginx: the configuration file E:\\nginx/conf/nginx.conf syntax is ok</span>
<span class="token comment"># nginx: configuration file E:\\nginx/conf/nginx.conf test is successful</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>\u5C06\u7EC8\u7AEF\u8DEF\u5F84\u5207\u6362\u5230\u8F6F\u4EF6\u5B89\u88C5\u7684\u76EE\u5F55\uFF08\u5E94\u7528 <code>nginx.exe</code> \u6240\u5728\u7684\u76EE\u5F55\uFF09\uFF0C\u8F93\u5165\u4EE5\u4E0B\u547D\u4EE4\u8FD0\u884C Nginx \u670D\u52A1\u5668</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>start nginx
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="\u5E38\u7528\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a> \u5E38\u7528\u547D\u4EE4</h2><p>\u53C2\u8003\uFF1A<a href="http://nginx.org/en/docs/windows.html" target="_blank" rel="noopener noreferrer">nginx for Windows</a></p><ul><li>\u6D4B\u8BD5\u914D\u7F6E\u6587\u4EF6\u683C\u5F0F\u662F\u5426\u6B63\u786E <code>nginx -t</code></li><li>\u91CD\u542F Nginx \u5E76\u91CD\u65B0\u8F7D\u5165\u914D\u7F6E\u6587\u4EF6 <code>nginx -s reload</code></li><li>\u91CD\u542F Nginx \u670D\u52A1 <code>nginx -s reopen</code></li><li>\u505C\u6B62 Nginx \u670D\u52A1 <code>nginx -s stop</code></li></ul>`,14);function i(l,o){return r}var t=s(a,[["render",i]]);export{t as default};

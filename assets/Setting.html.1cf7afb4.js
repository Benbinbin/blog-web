import{c as s}from"./app.43fe0c63.js";import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";const a={},p=s(`<p>\u901A\u8FC7 pm2 \u914D\u7F6E\u6587\u4EF6\u5BF9\u9879\u76EE\u8FD0\u884C\u65B9\u5F0F\u8FDB\u884C\u5B9A\u5236\uFF0C\u5305\u62EC\u8FDB\u7A0B\u6570\u91CF\u3001\u65E5\u5FD7\u6587\u4EF6\u76EE\u5F55\u7B49\u3002</p><p>\u53EF\u4EE5\u624B\u52A8\u521B\u5EFA\u4E00\u4E2A JSON \u6587\u6863\u4EE5\u914D\u7F6E\u53C2\u6570</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// \u{1F4C1} pm2.conf.json</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;apps&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pm2-test-server&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// \u9879\u76EE/\u8FDB\u7A0B\u540D\u79F0</span>
        <span class="token property">&quot;script&quot;</span><span class="token operator">:</span> <span class="token string">&quot;app.js&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// \u9879\u76EE\u5165\u53E3\u6587\u4EF6\uFF0C\u5982\u679C\u4F7F\u7528 Express \u642D\u5EFA\u7684\u9879\u76EE\u5C31\u662F bin/www</span>
        <span class="token property">&quot;watch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token comment">// \u76D1\u542C\u9879\u76EE\u6587\u4EF6\u53D8\u5316\u81EA\u52A8\u91CD\u542F\uFF0C\u5F00\u53D1\u73AF\u5883\u53EF\u4EE5\u5F00\u542F</span>
        <span class="token property">&quot;ignore_watch&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;logs&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>   <span class="token comment">// \u5FFD\u7565\u76D1\u542C\u7684\u6587\u4EF6</span>
        <span class="token property">&quot;instances&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>   <span class="token comment">// \u591A\u8FDB\u7A0B\u914D\u7F6E</span>
        <span class="token property">&quot;error_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;logs/err.log&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// \u9519\u8BEF\u65E5\u5FD7\u5B58\u653E\u7684\u6587\u6863</span>
        <span class="token property">&quot;out_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;logs/out.log&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// \u8F93\u51FA\u65E5\u5FD7\u5B58\u653E\u7684\u6587\u6863</span>
        <span class="token property">&quot;log_date_format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span>   <span class="token comment">// \u6BCF\u4E00\u6761\u8BB0\u5F55\u7684\u65F6\u95F4\u683C\u5F0F</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u9700\u8981\u5728 pm2 \u8FD0\u884C\u547D\u4EE4\u9700\u8981\u6DFB\u52A0\u76F8\u5E94\u7684\u914D\u7F6E\u6587\u4EF6</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// \u{1F4C1} package.json</span>
<span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cross-env NODE_ENV=dev nodemon app.js&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u6309\u7167\u914D\u7F6E\u6587\u4EF6\u6765\u542F\u52A8\u9879\u76EE</span>
    <span class="token property">&quot;prd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cross-env NODE_ENV=production pm2 start pm2.cong.json&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u{1F4A1} \u4E5F\u53EF\u4EE5\u4F7F\u7528\u547D\u4EE4 <code>pm2 ecosystem</code> \u751F\u6210\u4E00\u4E2A <a href="https://pm2.keymetrics.io/docs/usage/application-declaration/" target="_blank" rel="noopener noreferrer">Ecosystem File</a> \u914D\u7F6E\u6A21\u677F\u6587\u4EF6\u6765\u8BBE\u7F6E\u53C2\u6570\u3002</p><p>\u{1F4A1} \u7531\u4E8E\u7CFB\u7EDF\u9650\u5236\u4E86\u6BCF\u4E2A\u8FDB\u7A0B\u53EF\u4EE5\u4F7F\u7528\u7684\u5185\u5B58\u5927\u5C0F\uFF0C\u56E0\u6B64\u53EF\u4EE5\u901A\u8FC7 pm2 \u914D\u7F6E\u591A\u8FDB\u7A0B\u6765\u63D0\u9AD8\u670D\u52A1\u5668\u7684\u6027\u80FD\u3002\u4F46\u5982\u679C\u4F7F\u7528\u591A\u8FDB\u7A0B\u6765\u8FD0\u884C\u9879\u76EE\uFF0C\u4F1A\u5B58\u5728\u65E0\u6CD5\u5171\u4EAB\u5185\u5B58\u7684\u95EE\u9898\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4F7F\u7528 redis \u6570\u636E\u5E93\u5171\u4EAB session \u6765\u89E3\u51B3\u7C7B\u4F3C\u7684\u95EE\u9898\u3002</p>`,7);function t(o,e){return p}var l=n(a,[["render",t]]);export{l as default};

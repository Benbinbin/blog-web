var Mn=Object.defineProperty,An=Object.defineProperties;var Ln=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var $n=Object.prototype.hasOwnProperty,Tn=Object.prototype.propertyIsEnumerable;var Le=(t,e,n)=>e in t?Mn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lt=(t,e)=>{for(var n in e||(e={}))$n.call(e,n)&&Le(t,n,e[n]);if(Ae)for(var n of Ae(e))Tn.call(e,n)&&Le(t,n,e[n]);return t},Wt=(t,e)=>An(t,Ln(e));import{Y as Kt,j as $t,o as A,a as L,D as Q,b as _,t as B,v as D,F as O,C as nt,_ as Nn,$ as Sn,k as Tt,I as Qt,P as Jt,J as at,K as lt,s as En,H as $e,r as dt,d as jt,p as te,a2 as Hn,R as Fn,Z as Dn,c as Te}from"./app.43fe0c63.js";import{N as Vn}from"./Navbar.f1e32f1c.js";import{F as Rn}from"./Footer.50958d5f.js";import{_ as ee}from"./plugin-vue_export-helper.21dcd24c.js";import{C as Bn}from"./CollectionModal.39029a91.js";const In={props:["item","tag"],setup({item:t,tag:e}){const n=Kt({type:t.type,tag:e,folder:null,post:null});n.type==="post"?n.post=t.data:n.type==="folder"&&(n.folder=t);const r=$t(n);return Lt({},r)}},ut=t=>(Nn("data-v-462c4150"),t=t(),Sn(),t),Pn={class:"flex-grow p-4 flex items-start justify-between space-x-2"},qn=["href"],Xn=ut(()=>_("div",{class:"flex-shrink-0"},[_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"}),_("path",{d:"M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"})])],-1)),On={class:"text-md font-bold"},Yn=ut(()=>_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13z"})],-1)),Zn=[Yn],Gn={class:"tags px-4 h-8 flex flex-nowrap items-center bg-gray-100 space-x-2 overflow-x-auto rounded-b"},Un=["href"],Wn={key:1,class:"folder-container bg-gray-50 rounded flex flex-col overflow-y-auto"},Kn=ut(()=>_("div",{class:"flex-shrink-0"},[_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"})])],-1)),Qn={class:"font-bold text-md rounded-t"},Jn={class:"folder-body px-4 py-2 space-y-1"},jn=["href"],tr=ut(()=>_("div",{class:"flex-shrink-0 p-0.5"},[_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"}),_("path",{d:"M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"})])],-1)),er={class:"text-xs"},nr=["onClick"],rr=ut(()=>_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13z"})],-1)),ir=[rr],or=["onClick"],sr=ut(()=>_("div",{class:"flex-shrink-0 p-0.5"},[_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"})])],-1)),ar={class:"text-xs"};function lr(t,e,n,r,i,s){return A(),L("div",null,[t.type==="post"?(A(),L("div",{key:0,class:Q(["post-container bg-gray-50 rounded flex flex-col",{"border border-blue-300":t.post.tags.includes(n.tag)}])},[_("div",Pn,[_("a",{class:"w-full p-2 flex items-start space-x-2 font-bold text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded",href:t.$withBase(t.post.pathRelative),target:"_blank"},[Xn,_("h3",On,B(t.post.title),1)],8,qn),t.post.collection?(A(),L("button",{key:0,class:"p-2 select-none flex-shrink-0 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded",title:"\u67E5\u770B\u7CFB\u5217\u6587\u7AE0",onClick:e[0]||(e[0]=o=>t.$emit("setCollection",t.post.collection))},Zn)):D("",!0)]),_("div",Gn,[(A(!0),L(O,null,nt(t.post.tags,o=>(A(),L("a",{key:o,class:"flex-shrink-0 text-gray-400 font-bold text-xs hover:text-gray-800",href:`#${o}`},"#"+B(o),9,Un))),128))])],2)):D("",!0),t.type==="folder"&&t.folder.children.length>0?(A(),L("div",Wn,[_("button",{class:"folder-head px-4 py-3 select-none flex items-start text-white bg-blue-400 hover:bg-blue-500 space-x-2 rounded-t",onClick:e[1]||(e[1]=o=>t.$emit("setFolder",t.folder))},[Kn,_("h3",Qn,B(t.folder.name),1)]),_("div",Jn,[(A(!0),L(O,null,nt(t.folder.children,o=>(A(),L(O,{key:o.name},[o.type==="post"?(A(),L("div",{key:0,class:Q(["flex items-center justify-between space-x-2",{"border border-blue-300 rounded":o.data.tags.includes(n.tag)}])},[_("a",{class:"p-2 flex-grow flex items-start space-x-1 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded",href:t.$withBase(o.data.pathRelative),target:"_blank"},[tr,_("span",er,B(o.data.title),1)],8,jn),o.data.collection?(A(),L("button",{key:0,class:"flex-shrink-0 p-2 select-none text-gray-500 hover:text-gray-900 hover:bg-gray-200 rounded",title:"\u67E5\u770B\u7CFB\u5217\u6587\u7AE0",onClick:a=>t.$emit("setCollection",o.data.collection)},ir,8,nr)):D("",!0)],2)):D("",!0),o.type==="folder"?(A(),L("button",{key:1,class:"w-full p-2 select-none flex items-start space-x-1 text-blue-500 hover:text-white hover:bg-blue-400 rounded",onClick:a=>t.$emit("setFolder",o)},[sr,_("span",ar,B(o.name),1)],8,or)):D("",!0)],64))),128))])])):D("",!0)])}var ur=ee(In,[["render",lr],["__scopeId","data-v-462c4150"]]),cr={value:()=>{}};function ne(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Nt(n)}function Nt(t){this._=t}function hr(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Nt.prototype=ne.prototype={constructor:Nt,on:function(t,e){var n=this._,r=hr(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=fr(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Ne(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ne(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Nt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function fr(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ne(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=cr,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var re="http://www.w3.org/1999/xhtml",Se={svg:"http://www.w3.org/2000/svg",xhtml:re,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function St(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Se.hasOwnProperty(e)?{space:Se[e],local:t}:t}function dr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===re&&e.documentElement.namespaceURI===re?e.createElement(t):e.createElementNS(n,t)}}function pr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ee(t){var e=St(t);return(e.local?pr:dr)(e)}function gr(){}function ie(t){return t==null?gr:function(){return this.querySelector(t)}}function _r(t){typeof t!="function"&&(t=ie(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),c,l,u=0;u<o;++u)(c=s[u])&&(l=t.call(c,c.__data__,u,s))&&("__data__"in c&&(l.__data__=c.__data__),a[u]=l);return new V(r,this._parents)}function He(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mr(){return[]}function Fe(t){return t==null?mr:function(){return this.querySelectorAll(t)}}function yr(t){return function(){var e=t.apply(this,arguments);return e==null?[]:He(e)}}function vr(t){typeof t=="function"?t=yr(t):t=Fe(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,c,l=0;l<a;++l)(c=o[l])&&(r.push(t.call(c,c.__data__,l,o)),i.push(c));return new V(r,i)}function De(t){return function(){return this.matches(t)}}function Ve(t){return function(e){return e.matches(t)}}var wr=Array.prototype.find;function xr(t){return function(){return wr.call(this.children,t)}}function Cr(){return this.firstElementChild}function br(t){return this.select(t==null?Cr:xr(typeof t=="function"?t:Ve(t)))}var kr=Array.prototype.filter;function zr(){return this.children}function Mr(t){return function(){return kr.call(this.children,t)}}function Ar(t){return this.selectAll(t==null?zr:Mr(typeof t=="function"?t:Ve(t)))}function Lr(t){typeof t!="function"&&(t=De(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],c,l=0;l<o;++l)(c=s[l])&&t.call(c,c.__data__,l,s)&&a.push(c);return new V(r,this._parents)}function Re(t){return new Array(t.length)}function $r(){return new V(this._enter||this._groups.map(Re),this._parents)}function Et(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Et.prototype={constructor:Et,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Tr(t){return function(){return t}}function Nr(t,e,n,r,i,s){for(var o=0,a,c=e.length,l=s.length;o<l;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new Et(t,s[o]);for(;o<c;++o)(a=e[o])&&(i[o]=a)}function Sr(t,e,n,r,i,s,o){var a,c,l=new Map,u=e.length,h=s.length,d=new Array(u),g;for(a=0;a<u;++a)(c=e[a])&&(d[a]=g=o.call(c,c.__data__,a,e)+"",l.has(g)?i[a]=c:l.set(g,c));for(a=0;a<h;++a)g=o.call(t,s[a],a,s)+"",(c=l.get(g))?(r[a]=c,c.__data__=s[a],l.delete(g)):n[a]=new Et(t,s[a]);for(a=0;a<u;++a)(c=e[a])&&l.get(d[a])===c&&(i[a]=c)}function Er(t){return t.__data__}function Hr(t,e){if(!arguments.length)return Array.from(this,Er);var n=e?Sr:Nr,r=this._parents,i=this._groups;typeof t!="function"&&(t=Tr(t));for(var s=i.length,o=new Array(s),a=new Array(s),c=new Array(s),l=0;l<s;++l){var u=r[l],h=i[l],d=h.length,g=He(t.call(u,u&&u.__data__,l,r)),w=g.length,x=a[l]=new Array(w),z=o[l]=new Array(w),v=c[l]=new Array(d);n(u,h,x,z,v,g,e);for(var m=0,$=0,T,S;m<w;++m)if(T=x[m]){for(m>=$&&($=m+1);!(S=z[$])&&++$<w;);T._next=S||null}}return o=new V(o,r),o._enter=a,o._exit=c,o}function Fr(){return new V(this._exit||this._groups.map(Re),this._parents)}function Dr(t,e,n){var r=this.enter(),i=this,s=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Vr(t){if(!(t instanceof V))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var c=e[a],l=n[a],u=c.length,h=o[a]=new Array(u),d,g=0;g<u;++g)(d=c[g]||l[g])&&(h[g]=d);for(;a<r;++a)o[a]=e[a];return new V(o,this._parents)}function Rr(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Br(t){t||(t=Ir);function e(h,d){return h&&d?t(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,c=i[s]=new Array(a),l,u=0;u<a;++u)(l=o[u])&&(c[u]=l);c.sort(e)}return new V(i,this._parents).order()}function Ir(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qr(){return Array.from(this)}function Xr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Or(){let t=0;for(const e of this)++t;return t}function Yr(){return!this.node()}function Zr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Gr(t){return function(){this.removeAttribute(t)}}function Ur(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wr(t,e){return function(){this.setAttribute(t,e)}}function Kr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Qr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Jr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function jr(t,e){var n=St(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ur:Gr:typeof e=="function"?n.local?Jr:Qr:n.local?Kr:Wr)(n,e))}function Be(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ti(t){return function(){this.style.removeProperty(t)}}function ei(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ni(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ri(t,e,n){return arguments.length>1?this.each((e==null?ti:typeof e=="function"?ni:ei)(t,e,n==null?"":n)):ct(this.node(),t)}function ct(t,e){return t.style.getPropertyValue(e)||Be(t).getComputedStyle(t,null).getPropertyValue(e)}function ii(t){return function(){delete this[t]}}function oi(t,e){return function(){this[t]=e}}function si(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ai(t,e){return arguments.length>1?this.each((e==null?ii:typeof e=="function"?si:oi)(t,e)):this.node()[t]}function Ie(t){return t.trim().split(/^|\s+/)}function oe(t){return t.classList||new Pe(t)}function Pe(t){this._node=t,this._names=Ie(t.getAttribute("class")||"")}Pe.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function qe(t,e){for(var n=oe(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Xe(t,e){for(var n=oe(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function li(t){return function(){qe(this,t)}}function ui(t){return function(){Xe(this,t)}}function ci(t,e){return function(){(e.apply(this,arguments)?qe:Xe)(this,t)}}function hi(t,e){var n=Ie(t+"");if(arguments.length<2){for(var r=oe(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ci:e?li:ui)(n,e))}function fi(){this.textContent=""}function di(t){return function(){this.textContent=t}}function pi(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function gi(t){return arguments.length?this.each(t==null?fi:(typeof t=="function"?pi:di)(t)):this.node().textContent}function _i(){this.innerHTML=""}function mi(t){return function(){this.innerHTML=t}}function yi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function vi(t){return arguments.length?this.each(t==null?_i:(typeof t=="function"?yi:mi)(t)):this.node().innerHTML}function wi(){this.nextSibling&&this.parentNode.appendChild(this)}function xi(){return this.each(wi)}function Ci(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bi(){return this.each(Ci)}function ki(t){var e=typeof t=="function"?t:Ee(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function zi(){return null}function Mi(t,e){var n=typeof t=="function"?t:Ee(t),r=e==null?zi:typeof e=="function"?e:ie(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ai(){var t=this.parentNode;t&&t.removeChild(this)}function Li(){return this.each(Ai)}function $i(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ti(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ni(t){return this.select(t?Ti:$i)}function Si(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ei(t){return function(e){t.call(this,e,this.__data__)}}function Hi(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Fi(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Di(t,e,n){return function(){var r=this.__on,i,s=Ei(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Vi(t,e,n){var r=Hi(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,u;c<l;++c)for(i=0,u=a[c];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?Di:Fi,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function Oe(t,e,n){var r=Be(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ri(t,e){return function(){return Oe(this,t,e)}}function Bi(t,e){return function(){return Oe(this,t,e.apply(this,arguments))}}function Ii(t,e){return this.each((typeof e=="function"?Bi:Ri)(t,e))}function*Pi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Ye=[null];function V(t,e){this._groups=t,this._parents=e}function pt(){return new V([[document.documentElement]],Ye)}function qi(){return this}V.prototype=pt.prototype={constructor:V,select:_r,selectAll:vr,selectChild:br,selectChildren:Ar,filter:Lr,data:Hr,enter:$r,exit:Fr,join:Dr,merge:Vr,selection:qi,order:Rr,sort:Br,call:Pr,nodes:qr,node:Xr,size:Or,empty:Yr,each:Zr,attr:jr,style:ri,property:ai,classed:hi,text:gi,html:vi,raise:xi,lower:bi,append:ki,insert:Mi,remove:Li,clone:Ni,datum:Si,on:Vi,dispatch:Ii,[Symbol.iterator]:Pi};function Y(t){return typeof t=="string"?new V([[document.querySelector(t)]],[document.documentElement]):new V([[t]],Ye)}function Xi(t){let e;for(;e=t.sourceEvent;)t=e;return t}function rt(t,e){if(t=Xi(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function se(t){t.preventDefault(),t.stopImmediatePropagation()}function Oi(t){var e=t.document.documentElement,n=Y(t).on("dragstart.drag",se,!0);"onselectstart"in e?n.on("selectstart.drag",se,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Yi(t,e){var n=t.document.documentElement,r=Y(t).on("dragstart.drag",null);e&&(r.on("click.drag",se,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ae(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ze(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gt(){}var _t=.7,Ht=1/_t,ht="\\s*([+-]?\\d+)\\s*",mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Z="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zi=/^#([0-9a-f]{3,8})$/,Gi=new RegExp("^rgb\\("+[ht,ht,ht]+"\\)$"),Ui=new RegExp("^rgb\\("+[Z,Z,Z]+"\\)$"),Wi=new RegExp("^rgba\\("+[ht,ht,ht,mt]+"\\)$"),Ki=new RegExp("^rgba\\("+[Z,Z,Z,mt]+"\\)$"),Qi=new RegExp("^hsl\\("+[mt,Z,Z]+"\\)$"),Ji=new RegExp("^hsla\\("+[mt,Z,Z,mt]+"\\)$"),Ge={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ae(gt,yt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ue,formatHex:Ue,formatHsl:ji,formatRgb:We,toString:We});function Ue(){return this.rgb().formatHex()}function ji(){return tn(this).formatHsl()}function We(){return this.rgb().formatRgb()}function yt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Zi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ke(e):n===3?new R(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ft(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ft(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gi.exec(t))?new R(e[1],e[2],e[3],1):(e=Ui.exec(t))?new R(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wi.exec(t))?Ft(e[1],e[2],e[3],e[4]):(e=Ki.exec(t))?Ft(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qi.exec(t))?je(e[1],e[2]/100,e[3]/100,1):(e=Ji.exec(t))?je(e[1],e[2]/100,e[3]/100,e[4]):Ge.hasOwnProperty(t)?Ke(Ge[t]):t==="transparent"?new R(NaN,NaN,NaN,0):null}function Ke(t){return new R(t>>16&255,t>>8&255,t&255,1)}function Ft(t,e,n,r){return r<=0&&(t=e=n=NaN),new R(t,e,n,r)}function to(t){return t instanceof gt||(t=yt(t)),t?(t=t.rgb(),new R(t.r,t.g,t.b,t.opacity)):new R}function le(t,e,n,r){return arguments.length===1?to(t):new R(t,e,n,r==null?1:r)}function R(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ae(R,le,Ze(gt,{brighter:function(t){return t=t==null?Ht:Math.pow(Ht,t),new R(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?_t:Math.pow(_t,t),new R(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qe,formatHex:Qe,formatRgb:Je,toString:Je}));function Qe(){return"#"+ue(this.r)+ue(this.g)+ue(this.b)}function Je(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function ue(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function je(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new G(t,e,n,r)}function tn(t){if(t instanceof G)return new G(t.h,t.s,t.l,t.opacity);if(t instanceof gt||(t=yt(t)),!t)return new G;if(t instanceof G)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new G(o,a,c,t.opacity)}function eo(t,e,n,r){return arguments.length===1?tn(t):new G(t,e,n,r==null?1:r)}function G(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ae(G,eo,Ze(gt,{brighter:function(t){return t=t==null?Ht:Math.pow(Ht,t),new G(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?_t:Math.pow(_t,t),new G(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new R(ce(t>=240?t-240:t+120,i,r),ce(t,i,r),ce(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function ce(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var en=t=>()=>t;function no(t,e){return function(n){return t+n*e}}function ro(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function io(t){return(t=+t)==1?nn:function(e,n){return n-e?ro(e,n,t):en(isNaN(e)?n:e)}}function nn(t,e){var n=e-t;return n?no(t,n):en(isNaN(t)?e:t)}var rn=function t(e){var n=io(e);function r(i,s){var o=n((i=le(i)).r,(s=le(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),l=nn(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=t,r}(1);function tt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var he=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fe=new RegExp(he.source,"g");function oo(t){return function(){return t}}function so(t){return function(e){return t(e)+""}}function ao(t,e){var n=he.lastIndex=fe.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(r=he.exec(t))&&(i=fe.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:tt(r,i)})),n=fe.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?so(c[0].x):oo(e):(e=c.length,function(l){for(var u=0,h;u<e;++u)a[(h=c[u]).i]=h.x(l);return a.join("")})}var on=180/Math.PI,de={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sn(t,e,n,r,i,s){var o,a,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*on,skewX:Math.atan(c)*on,scaleX:o,scaleY:a}}var Dt;function lo(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?de:sn(e.a,e.b,e.c,e.d,e.e,e.f)}function uo(t){return t==null||(Dt||(Dt=document.createElementNS("http://www.w3.org/2000/svg","g")),Dt.setAttribute("transform",t),!(t=Dt.transform.baseVal.consolidate()))?de:(t=t.matrix,sn(t.a,t.b,t.c,t.d,t.e,t.f))}function an(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,u,h,d,g,w){if(l!==h||u!==d){var x=g.push("translate(",null,e,null,n);w.push({i:x-4,x:tt(l,h)},{i:x-2,x:tt(u,d)})}else(h||d)&&g.push("translate("+h+e+d+n)}function o(l,u,h,d){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:tt(l,u)})):u&&h.push(i(h)+"rotate("+u+r)}function a(l,u,h,d){l!==u?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:tt(l,u)}):u&&h.push(i(h)+"skewX("+u+r)}function c(l,u,h,d,g,w){if(l!==h||u!==d){var x=g.push(i(g)+"scale(",null,",",null,")");w.push({i:x-4,x:tt(l,h)},{i:x-2,x:tt(u,d)})}else(h!==1||d!==1)&&g.push(i(g)+"scale("+h+","+d+")")}return function(l,u){var h=[],d=[];return l=t(l),u=t(u),s(l.translateX,l.translateY,u.translateX,u.translateY,h,d),o(l.rotate,u.rotate,h,d),a(l.skewX,u.skewX,h,d),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,h,d),l=u=null,function(g){for(var w=-1,x=d.length,z;++w<x;)h[(z=d[w]).i]=z.x(g);return h.join("")}}}var co=an(lo,"px, ","px)","deg)"),ho=an(uo,", ",")",")"),fo=1e-12;function ln(t){return((t=Math.exp(t))+1/t)/2}function po(t){return((t=Math.exp(t))-1/t)/2}function go(t){return((t=Math.exp(2*t))-1)/(t+1)}var _o=function t(e,n,r){function i(s,o){var a=s[0],c=s[1],l=s[2],u=o[0],h=o[1],d=o[2],g=u-a,w=h-c,x=g*g+w*w,z,v;if(x<fo)v=Math.log(d/l)/e,z=function(j){return[a+j*g,c+j*w,l*Math.exp(e*j*v)]};else{var m=Math.sqrt(x),$=(d*d-l*l+r*x)/(2*l*n*m),T=(d*d-l*l-r*x)/(2*d*n*m),S=Math.log(Math.sqrt($*$+1)-$),F=Math.log(Math.sqrt(T*T+1)-T);v=(F-S)/e,z=function(j){var zt=j*v,Mt=ln(S),At=l/(n*m)*(Mt*go(e*zt+S)-po(S));return[a+At*g,c+At*w,l*Mt/ln(e*zt+S)]}}return z.duration=v*1e3*e/Math.SQRT2,z}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,c=a*a;return t(o,a,c)},i}(Math.SQRT2,2,4),ft=0,vt=0,wt=0,un=1e3,Vt,xt,Rt=0,it=0,Bt=0,Ct=typeof performance=="object"&&performance.now?performance:Date,cn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pe(){return it||(cn(mo),it=Ct.now()+Bt)}function mo(){it=0}function It(){this._call=this._time=this._next=null}It.prototype=hn.prototype={constructor:It,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?pe():+n)+(e==null?0:+e),!this._next&&xt!==this&&(xt?xt._next=this:Vt=this,xt=this),this._call=t,this._time=n,ge()},stop:function(){this._call&&(this._call=null,this._time=1/0,ge())}};function hn(t,e,n){var r=new It;return r.restart(t,e,n),r}function yo(){pe(),++ft;for(var t=Vt,e;t;)(e=it-t._time)>=0&&t._call.call(null,e),t=t._next;--ft}function fn(){it=(Rt=Ct.now())+Bt,ft=vt=0;try{yo()}finally{ft=0,wo(),it=0}}function vo(){var t=Ct.now(),e=t-Rt;e>un&&(Bt-=e,Rt=t)}function wo(){for(var t,e=Vt,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Vt=n);xt=t,ge(r)}function ge(t){if(!ft){vt&&(vt=clearTimeout(vt));var e=t-it;e>24?(t<1/0&&(vt=setTimeout(fn,t-Ct.now()-Bt)),wt&&(wt=clearInterval(wt))):(wt||(Rt=Ct.now(),wt=setInterval(vo,un)),ft=1,cn(fn))}}function dn(t,e,n){var r=new It;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var xo=ne("start","end","cancel","interrupt"),Co=[],pn=0,gn=1,_e=2,Pt=3,_n=4,me=5,qt=6;function Xt(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;bo(t,n,{name:e,index:r,group:i,on:xo,tween:Co,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:pn})}function ye(t,e){var n=q(t,e);if(n.state>pn)throw new Error("too late; already scheduled");return n}function U(t,e){var n=q(t,e);if(n.state>Pt)throw new Error("too late; already running");return n}function q(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bo(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=hn(s,0,n.time);function s(l){n.state=gn,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var u,h,d,g;if(n.state!==gn)return c();for(u in r)if(g=r[u],g.name===n.name){if(g.state===Pt)return dn(o);g.state===_n?(g.state=qt,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[u]):+u<e&&(g.state=qt,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[u])}if(dn(function(){n.state===Pt&&(n.state=_n,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=_e,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_e){for(n.state=Pt,i=new Array(d=n.tween.length),u=0,h=-1;u<d;++u)(g=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function a(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=me,1),h=-1,d=i.length;++h<d;)i[h].call(t,u);n.state===me&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=qt,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function Ot(t,e){var n=t.__transition,r,i,s=!0,o;if(!!n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>_e&&r.state<me,r.state=qt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function ko(t){return this.each(function(){Ot(this,t)})}function zo(t,e){var n,r;return function(){var i=U(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Mo(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=U(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=a;break}c===l&&i.push(a)}s.tween=i}}function Ao(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=q(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?zo:Mo)(n,t,e))}function ve(t,e,n){var r=t._id;return t.each(function(){var i=U(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return q(i,r).value[e]}}function mn(t,e){var n;return(typeof e=="number"?tt:e instanceof yt?rn:(n=yt(e))?(e=n,rn):ao)(t,e)}function Lo(t){return function(){this.removeAttribute(t)}}function $o(t){return function(){this.removeAttributeNS(t.space,t.local)}}function To(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function No(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function So(t,e,n){var r,i,s;return function(){var o,a=n(this),c;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=a+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,a)))}}function Eo(t,e,n){var r,i,s;return function(){var o,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=a+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,a)))}}function Ho(t,e){var n=St(t),r=n==="transform"?ho:mn;return this.attrTween(t,typeof e=="function"?(n.local?Eo:So)(n,r,ve(this,"attr."+t,e)):e==null?(n.local?$o:Lo)(n):(n.local?No:To)(n,r,e))}function Fo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Do(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Vo(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Do(t,s)),n}return i._value=e,i}function Ro(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Fo(t,s)),n}return i._value=e,i}function Bo(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=St(t);return this.tween(n,(r.local?Vo:Ro)(r,e))}function Io(t,e){return function(){ye(this,t).delay=+e.apply(this,arguments)}}function Po(t,e){return e=+e,function(){ye(this,t).delay=e}}function qo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Io:Po)(e,t)):q(this.node(),e).delay}function Xo(t,e){return function(){U(this,t).duration=+e.apply(this,arguments)}}function Oo(t,e){return e=+e,function(){U(this,t).duration=e}}function Yo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Xo:Oo)(e,t)):q(this.node(),e).duration}function Zo(t,e){if(typeof e!="function")throw new Error;return function(){U(this,t).ease=e}}function Go(t){var e=this._id;return arguments.length?this.each(Zo(e,t)):q(this.node(),e).ease}function Uo(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;U(this,t).ease=n}}function Wo(t){if(typeof t!="function")throw new Error;return this.each(Uo(this._id,t))}function Ko(t){typeof t!="function"&&(t=De(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],c,l=0;l<o;++l)(c=s[l])&&t.call(c,c.__data__,l,s)&&a.push(c);return new J(r,this._parents,this._name,this._id)}function Qo(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var c=e[a],l=n[a],u=c.length,h=o[a]=new Array(u),d,g=0;g<u;++g)(d=c[g]||l[g])&&(h[g]=d);for(;a<r;++a)o[a]=e[a];return new J(o,this._parents,this._name,this._id)}function Jo(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jo(t,e,n){var r,i,s=Jo(e)?ye:U;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function ts(t,e){var n=this._id;return arguments.length<2?q(this.node(),n).on.on(t):this.each(jo(n,t,e))}function es(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ns(){return this.on("end.remove",es(this._id))}function rs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ie(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],c=a.length,l=s[o]=new Array(c),u,h,d=0;d<c;++d)(u=a[d])&&(h=t.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),l[d]=h,Xt(l[d],e,n,d,l,q(u,n)));return new J(s,this._parents,e,n)}function is(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fe(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var c=r[a],l=c.length,u,h=0;h<l;++h)if(u=c[h]){for(var d=t.call(u,u.__data__,h,c),g,w=q(u,n),x=0,z=d.length;x<z;++x)(g=d[x])&&Xt(g,e,n,x,d,w);s.push(d),o.push(u)}return new J(s,o,e,n)}var os=pt.prototype.constructor;function ss(){return new os(this._groups,this._parents)}function as(t,e){var n,r,i;return function(){var s=ct(this,t),o=(this.style.removeProperty(t),ct(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function yn(t){return function(){this.style.removeProperty(t)}}function ls(t,e,n){var r,i=n+"",s;return function(){var o=ct(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function us(t,e,n){var r,i,s;return function(){var o=ct(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),ct(this,t))),o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,a))}}function cs(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var c=U(this,t),l=c.on,u=c.value[s]==null?a||(a=yn(e)):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(o,i=u),c.on=r}}function hs(t,e,n){var r=(t+="")==="transform"?co:mn;return e==null?this.styleTween(t,as(t,r)).on("end.style."+t,yn(t)):typeof e=="function"?this.styleTween(t,us(t,r,ve(this,"style."+t,e))).each(cs(this._id,t)):this.styleTween(t,ls(t,r,e),n).on("end.style."+t,null)}function fs(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ds(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&fs(t,o,n)),r}return s._value=e,s}function ps(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ds(t,e,n==null?"":n))}function gs(t){return function(){this.textContent=t}}function _s(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function ms(t){return this.tween("text",typeof t=="function"?_s(ve(this,"text",t)):gs(t==null?"":t+""))}function ys(t){return function(e){this.textContent=t.call(this,e)}}function vs(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ys(i)),e}return r._value=t,r}function ws(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,vs(t))}function xs(){for(var t=this._name,e=this._id,n=vn(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,c,l=0;l<a;++l)if(c=o[l]){var u=q(c,e);Xt(c,t,n,l,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new J(r,this._parents,t,n)}function Cs(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},c={value:function(){--i==0&&s()}};n.each(function(){var l=U(this,r),u=l.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),l.on=e}),i===0&&s()})}var bs=0;function J(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function vn(){return++bs}var ot=pt.prototype;J.prototype={constructor:J,select:rs,selectAll:is,filter:Ko,merge:Qo,selection:ss,transition:xs,call:ot.call,nodes:ot.nodes,node:ot.node,size:ot.size,empty:ot.empty,each:ot.each,on:ts,attr:Ho,attrTween:Bo,style:hs,styleTween:ps,text:ms,textTween:ws,remove:ns,tween:Ao,delay:qo,duration:Yo,ease:Go,easeVarying:Wo,end:Cs,[Symbol.iterator]:ot[Symbol.iterator]};function ks(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var zs={time:null,delay:0,duration:250,ease:ks};function Ms(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function As(t){var e,n;t instanceof J?(e=t._id,t=t._name):(e=vn(),(n=zs).time=pe(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,c,l=0;l<a;++l)(c=o[l])&&Xt(c,t,e,l,o,n||Ms(c,e));return new J(r,this._parents,t,e)}pt.prototype.interrupt=ko;pt.prototype.transition=As;const we=Math.PI,xe=2*we,st=1e-6,Ls=xe-st;function Ce(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function wn(){return new Ce}Ce.prototype=wn.prototype={constructor:Ce,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var s=this._x1,o=this._y1,a=n-t,c=r-e,l=s-t,u=o-e,h=l*l+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>st)if(!(Math.abs(u*a-c*l)>st)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var d=n-s,g=r-o,w=a*a+c*c,x=d*d+g*g,z=Math.sqrt(w),v=Math.sqrt(h),m=i*Math.tan((we-Math.acos((w+h-x)/(2*z*v)))/2),$=m/v,T=m/z;Math.abs($-1)>st&&(this._+="L"+(t+$*l)+","+(e+$*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>l*g)+","+(this._x1=t+T*a)+","+(this._y1=e+T*c)}},arc:function(t,e,n,r,i,s){t=+t,e=+e,n=+n,s=!!s;var o=n*Math.cos(r),a=n*Math.sin(r),c=t+o,l=e+a,u=1^s,h=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+l:(Math.abs(this._x1-c)>st||Math.abs(this._y1-l)>st)&&(this._+="L"+c+","+l),!!n&&(h<0&&(h=h%xe+xe),h>Ls?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>st&&(this._+="A"+n+","+n+",0,"+ +(h>=we)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function $s(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Ts(){return this.eachAfter($s)}function Ns(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function Ss(t,e){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Es(t,e){for(var n=this,r=[n],i=[],s,o,a,c=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)t.call(e,n,++c,this);return this}function Hs(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Fs(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Ds(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Vs(t){for(var e=this,n=Rs(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Rs(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Bs(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Is(){return Array.from(this)}function Ps(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function qs(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Xs(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function be(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Zs)):e===void 0&&(e=Ys);for(var n=new bt(t),r,i=[n],s,o,a,c;r=i.pop();)if((o=e(r.data))&&(c=(o=Array.from(o)).length))for(r.children=o,a=c-1;a>=0;--a)i.push(s=o[a]=new bt(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(Us)}function Os(){return be(this).eachBefore(Gs)}function Ys(t){return t.children}function Zs(t){return Array.isArray(t)?t[1]:null}function Gs(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Us(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function bt(t){this.data=t,this.depth=this.height=0,this.parent=null}bt.prototype=be.prototype={constructor:bt,count:Ts,each:Ns,eachAfter:Es,eachBefore:Ss,find:Hs,sum:Fs,sort:Ds,path:Vs,ancestors:Bs,descendants:Is,leaves:Ps,links:qs,copy:Os,[Symbol.iterator]:Xs};function Ws(t,e){return t.parent===e.parent?1:2}function ke(t){var e=t.children;return e?e[0]:t.t}function ze(t){var e=t.children;return e?e[e.length-1]:t.t}function Ks(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Qs(t){for(var e=0,n=0,r=t.children,i=r.length,s;--i>=0;)s=r[i],s.z+=e,s.m+=e,e+=s.s+(n+=s.c)}function Js(t,e,n){return t.a.parent===e.parent?t.a:n}function Yt(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Yt.prototype=Object.create(bt.prototype);function js(t){for(var e=new Yt(t,0),n,r=[e],i,s,o,a;n=r.pop();)if(s=n._.children)for(n.children=new Array(a=s.length),o=a-1;o>=0;--o)r.push(i=n.children[o]=new Yt(s[o],o)),i.parent=n;return(e.parent=new Yt(null,0)).children=[e],e}function ta(){var t=Ws,e=1,n=1,r=null;function i(l){var u=js(l);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(o),r)l.eachBefore(c);else{var h=l,d=l,g=l;l.eachBefore(function(m){m.x<h.x&&(h=m),m.x>d.x&&(d=m),m.depth>g.depth&&(g=m)});var w=h===d?1:t(h,d)/2,x=w-h.x,z=e/(d.x+w+x),v=n/(g.depth||1);l.eachBefore(function(m){m.x=(m.x+x)*z,m.y=m.depth*v})}return l}function s(l){var u=l.children,h=l.parent.children,d=l.i?h[l.i-1]:null;if(u){Qs(l);var g=(u[0].z+u[u.length-1].z)/2;d?(l.z=d.z+t(l._,d._),l.m=l.z-g):l.z=g}else d&&(l.z=d.z+t(l._,d._));l.parent.A=a(l,d,l.parent.A||h[0])}function o(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function a(l,u,h){if(u){for(var d=l,g=l,w=u,x=d.parent.children[0],z=d.m,v=g.m,m=w.m,$=x.m,T;w=ze(w),d=ke(d),w&&d;)x=ke(x),g=ze(g),g.a=l,T=w.z+m-d.z-z+t(w._,d._),T>0&&(Ks(Js(w,l,h),l,T),z+=T,v+=T),m+=w.m,z+=d.m,$+=x.m,v+=g.m;w&&!ze(g)&&(g.t=w,g.m+=m-v),d&&!ke(x)&&(x.t=d,x.m+=z-$,h=l)}return h}function c(l){l.x*=e,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(t=l,i):t},i.size=function(l){return arguments.length?(r=!1,e=+l[0],n=+l[1],i):r?null:[e,n]},i.nodeSize=function(l){return arguments.length?(r=!0,e=+l[0],n=+l[1],i):r?[e,n]:null},i}function xn(t){return function(){return t}}var ea=Array.prototype.slice;function na(t){return t[0]}function ra(t){return t[1]}function ia(t){return t.source}function oa(t){return t.target}function sa(t){var e=ia,n=oa,r=na,i=ra,s=null;function o(){var a,c=ea.call(arguments),l=e.apply(this,c),u=n.apply(this,c);if(s||(s=a=wn()),t(s,+r.apply(this,(c[0]=l,c)),+i.apply(this,c),+r.apply(this,(c[0]=u,c)),+i.apply(this,c)),a)return s=null,a+""||null}return o.source=function(a){return arguments.length?(e=a,o):e},o.target=function(a){return arguments.length?(n=a,o):n},o.x=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),o):r},o.y=function(a){return arguments.length?(i=typeof a=="function"?a:xn(+a),o):i},o.context=function(a){return arguments.length?(s=a==null?null:a,o):s},o}function aa(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function la(){return sa(aa)}var Zt=t=>()=>t;function ua(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function et(t,e,n){this.k=t,this.x=e,this.y=n}et.prototype={constructor:et,scale:function(t){return t===1?this:new et(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new et(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gt=new et(1,0,0);function Me(t){t.stopImmediatePropagation()}function kt(t){t.preventDefault(),t.stopImmediatePropagation()}function ca(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ha(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Cn(){return this.__zoom||Gt}function fa(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function da(){return navigator.maxTouchPoints||"ontouchstart"in this}function pa(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function ga(){var t=ca,e=ha,n=pa,r=fa,i=da,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,c=_o,l=ne("start","zoom","end"),u,h,d,g=500,w=150,x=0,z=10;function v(f){f.property("__zoom",Cn).on("wheel.zoom",zt).on("mousedown.zoom",Mt).on("dblclick.zoom",At).filter(i).on("touchstart.zoom",bn).on("touchmove.zoom",kn).on("touchend.zoom touchcancel.zoom",zn).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(f,y,p,C){var b=f.selection?f.selection():f;b.property("__zoom",Cn),f!==b?S(f,y,p,C):b.interrupt().each(function(){F(this,arguments).event(C).start().zoom(null,typeof y=="function"?y.apply(this,arguments):y).end()})},v.scaleBy=function(f,y,p,C){v.scaleTo(f,function(){var b=this.__zoom.k,k=typeof y=="function"?y.apply(this,arguments):y;return b*k},p,C)},v.scaleTo=function(f,y,p,C){v.transform(f,function(){var b=e.apply(this,arguments),k=this.__zoom,M=p==null?T(b):typeof p=="function"?p.apply(this,arguments):p,N=k.invert(M),E=typeof y=="function"?y.apply(this,arguments):y;return n($(m(k,E),M,N),b,o)},p,C)},v.translateBy=function(f,y,p,C){v.transform(f,function(){return n(this.__zoom.translate(typeof y=="function"?y.apply(this,arguments):y,typeof p=="function"?p.apply(this,arguments):p),e.apply(this,arguments),o)},null,C)},v.translateTo=function(f,y,p,C,b){v.transform(f,function(){var k=e.apply(this,arguments),M=this.__zoom,N=C==null?T(k):typeof C=="function"?C.apply(this,arguments):C;return n(Gt.translate(N[0],N[1]).scale(M.k).translate(typeof y=="function"?-y.apply(this,arguments):-y,typeof p=="function"?-p.apply(this,arguments):-p),k,o)},C,b)};function m(f,y){return y=Math.max(s[0],Math.min(s[1],y)),y===f.k?f:new et(y,f.x,f.y)}function $(f,y,p){var C=y[0]-p[0]*f.k,b=y[1]-p[1]*f.k;return C===f.x&&b===f.y?f:new et(f.k,C,b)}function T(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function S(f,y,p,C){f.on("start.zoom",function(){F(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(C).end()}).tween("zoom",function(){var b=this,k=arguments,M=F(b,k).event(C),N=e.apply(b,k),E=p==null?T(N):typeof p=="function"?p.apply(b,k):p,X=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),H=b.__zoom,I=typeof y=="function"?y.apply(b,k):y,W=c(H.invert(E).concat(X/H.k),I.invert(E).concat(X/I.k));return function(P){if(P===1)P=I;else{var K=W(P),Ut=X/K[2];P=new et(Ut,E[0]-K[0]*Ut,E[1]-K[1]*Ut)}M.zoom(null,P)}})}function F(f,y,p){return!p&&f.__zooming||new j(f,y)}function j(f,y){this.that=f,this.args=y,this.active=0,this.sourceEvent=null,this.extent=e.apply(f,y),this.taps=0}j.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,y){return this.mouse&&f!=="mouse"&&(this.mouse[1]=y.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=y.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=y.invert(this.touch1[0])),this.that.__zoom=y,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var y=Y(this.that).datum();l.call(f,this.that,new ua(f,{sourceEvent:this.sourceEvent,target:v,type:f,transform:this.that.__zoom,dispatch:l}),y)}};function zt(f,...y){if(!t.apply(this,arguments))return;var p=F(this,y).event(f),C=this.__zoom,b=Math.max(s[0],Math.min(s[1],C.k*Math.pow(2,r.apply(this,arguments)))),k=rt(f);if(p.wheel)(p.mouse[0][0]!==k[0]||p.mouse[0][1]!==k[1])&&(p.mouse[1]=C.invert(p.mouse[0]=k)),clearTimeout(p.wheel);else{if(C.k===b)return;p.mouse=[k,C.invert(k)],Ot(this),p.start()}kt(f),p.wheel=setTimeout(M,w),p.zoom("mouse",n($(m(C,b),p.mouse[0],p.mouse[1]),p.extent,o));function M(){p.wheel=null,p.end()}}function Mt(f,...y){if(d||!t.apply(this,arguments))return;var p=F(this,y,!0).event(f),C=Y(f.view).on("mousemove.zoom",E,!0).on("mouseup.zoom",X,!0),b=rt(f,k),k=f.currentTarget,M=f.clientX,N=f.clientY;Oi(f.view),Me(f),p.mouse=[b,this.__zoom.invert(b)],Ot(this),p.start();function E(H){if(kt(H),!p.moved){var I=H.clientX-M,W=H.clientY-N;p.moved=I*I+W*W>x}p.event(H).zoom("mouse",n($(p.that.__zoom,p.mouse[0]=rt(H,k),p.mouse[1]),p.extent,o))}function X(H){C.on("mousemove.zoom mouseup.zoom",null),Yi(H.view,p.moved),kt(H),p.event(H).end()}}function At(f,...y){if(!!t.apply(this,arguments)){var p=this.__zoom,C=rt(f.changedTouches?f.changedTouches[0]:f,this),b=p.invert(C),k=p.k*(f.shiftKey?.5:2),M=n($(m(p,k),C,b),e.apply(this,y),o);kt(f),a>0?Y(this).transition().duration(a).call(S,M,C,f):Y(this).call(v.transform,M,C,f)}}function bn(f,...y){if(!!t.apply(this,arguments)){var p=f.touches,C=p.length,b=F(this,y,f.changedTouches.length===C).event(f),k,M,N,E;for(Me(f),M=0;M<C;++M)N=p[M],E=rt(N,this),E=[E,this.__zoom.invert(E),N.identifier],b.touch0?!b.touch1&&b.touch0[2]!==E[2]&&(b.touch1=E,b.taps=0):(b.touch0=E,k=!0,b.taps=1+!!u);u&&(u=clearTimeout(u)),k&&(b.taps<2&&(h=E[0],u=setTimeout(function(){u=null},g)),Ot(this),b.start())}}function kn(f,...y){if(!!this.__zooming){var p=F(this,y).event(f),C=f.changedTouches,b=C.length,k,M,N,E;for(kt(f),k=0;k<b;++k)M=C[k],N=rt(M,this),p.touch0&&p.touch0[2]===M.identifier?p.touch0[0]=N:p.touch1&&p.touch1[2]===M.identifier&&(p.touch1[0]=N);if(M=p.that.__zoom,p.touch1){var X=p.touch0[0],H=p.touch0[1],I=p.touch1[0],W=p.touch1[1],P=(P=I[0]-X[0])*P+(P=I[1]-X[1])*P,K=(K=W[0]-H[0])*K+(K=W[1]-H[1])*K;M=m(M,Math.sqrt(P/K)),N=[(X[0]+I[0])/2,(X[1]+I[1])/2],E=[(H[0]+W[0])/2,(H[1]+W[1])/2]}else if(p.touch0)N=p.touch0[0],E=p.touch0[1];else return;p.zoom("touch",n($(M,N,E),p.extent,o))}}function zn(f,...y){if(!!this.__zooming){var p=F(this,y).event(f),C=f.changedTouches,b=C.length,k,M;for(Me(f),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),k=0;k<b;++k)M=C[k],p.touch0&&p.touch0[2]===M.identifier?delete p.touch0:p.touch1&&p.touch1[2]===M.identifier&&delete p.touch1;if(p.touch1&&!p.touch0&&(p.touch0=p.touch1,delete p.touch1),p.touch0)p.touch0[1]=this.__zoom.invert(p.touch0[0]);else if(p.end(),p.taps===2&&(M=rt(M,this),Math.hypot(h[0]-M[0],h[1]-M[1])<z)){var N=Y(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return v.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:Zt(+f),v):r},v.filter=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(!!f),v):t},v.touchable=function(f){return arguments.length?(i=typeof f=="function"?f:Zt(!!f),v):i},v.extent=function(f){return arguments.length?(e=typeof f=="function"?f:Zt([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),v):e},v.scaleExtent=function(f){return arguments.length?(s[0]=+f[0],s[1]=+f[1],v):[s[0],s[1]]},v.translateExtent=function(f){return arguments.length?(o[0][0]=+f[0][0],o[1][0]=+f[1][0],o[0][1]=+f[0][1],o[1][1]=+f[1][1],v):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},v.constrain=function(f){return arguments.length?(n=f,v):n},v.duration=function(f){return arguments.length?(a=+f,v):a},v.interpolate=function(f){return arguments.length?(c=f,v):c},v.on=function(){var f=l.on.apply(l,arguments);return f===l?v:f},v.clickDistance=function(f){return arguments.length?(x=(f=+f)*f,v):Math.sqrt(x)},v.tapDistance=function(f){return arguments.length?(z=+f,v):z},v}const _a={props:["layout","width","height","postsData"],setup(t){const e=Kt({nodesData:[],linksData:[],transform:{x:0,y:0,k:1},clickHandler:()=>{}}),n=28,r=Tt(()=>t.width/5),i=Tt(()=>`${-r.value}, ${-t.height/2}, ${t.width}, ${t.height}`);let s=null;const o=()=>{s=be(t.postsData),s.descendants().forEach((m,$)=>{m.id=$,m.children&&(m._children=m.children),m.children&&m.depth>=2&&(m.children=null)})},a=()=>{if(s){const m=ta().nodeSize([n,r.value])(s);e.nodesData=m.descendants(),e.linksData=m.links()}},c=m=>la().x(T=>T.y).y(T=>T.x)(m),l=(m,$="truncate")=>{const T=Math.floor(r.value/14);let S="";return m.data.children?S=m.data.name:S=m.data.data.title,S.length>T&&$==="truncate"?`${S.substr(0,T).trim()}...`:S};let{width:u,height:h,postsData:d}=$t(t);Qt([u,h],(m,$)=>{a()}),Qt(d,(m,$)=>{o(),a()});const g=m=>{e.transform=m.transform};let w=null;Jt(()=>{w=ga().scaleExtent([.5,5]).on("zoom",g),Y(".tree-diagram").call(w)});const x=()=>{Y(".tree-diagram").transition().duration(500).call(w.transform,Gt)};Jt(()=>{e.clickHandler=m=>{if(m.data.type==="post")window.open(`/blog-web/${m.data.data.pathRelative}`);else if(m.data.type==="folder"){if(!m.parent)return;m.children?(m.children=null,z(m,!1)):(m.children=m._children,z(m,!0)),a()}}});const z=(m,$)=>{let T=1,S,F;$?(S=m.y,F=m.x):(S=m.parent.y,F=m.parent.x),Y(".tree-diagram").transition().duration(500).call(w.transform,Gt.translate(-S,-F).scale(T))};o(),a();const v=$t(e);return Wt(Lt({},v),{viewBox:i,linkPathGenerator:c,textGenerator:l,resizeTransform:x})}},ma=["viewBox"],ya=["transform"],va={class:"links-container",fill:"none",stroke:"#E5E7EB","stroke-opacity":"1","stroke-width":"1.5"},wa=["d"],xa={class:"nodes-cotainer","pointer-events":"all",style:{font:"14px sans-serif"}},Ca=["onClick","transform"],ba=["x","text-anchor","font-weight"],ka=["x","text-anchor","font-weight"],za={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#9CA3AF",viewBox:"0 0 16 16",x:"-0.6em",y:"-0.6em"},Ma=_("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM4.5 9a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1h-4z"},null,-1),Aa=[Ma],La=["fill"],$a=_("path",{d:"M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"},null,-1),Ta=[$a],Na={key:2,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#60A5FA",viewBox:"0 0 16 16",x:"-0.6em",y:"-0.6em"},Sa=_("path",{d:"M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zM.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8H.8z"},null,-1),Ea=[Sa],Ha={class:"p-8 flex justify-between items-center fixed bottom-0 inset-x-0 z-10"},Fa={class:"flex items-center space-x-2"},Da=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5v-9zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z"}),_("path",{d:"M2 4.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1H3v2.5a.5.5 0 0 1-1 0v-3zm12 7a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H13V8.5a.5.5 0 0 1 1 0v3z"})],-1),Va=_("span",{class:"text-xs hidden sm:block"},"Resize",-1),Ra=[Da,Va];function Ba(t,e,n,r,i,s){return A(),L(O,null,[at((A(),L("svg",En(t.$attrs,{class:"tree-diagram select-none",viewBox:r.viewBox}),[_("g",{transform:`translate(${t.transform.x}, ${t.transform.y}) scale(${t.transform.k}) `},[_("g",va,[(A(!0),L(O,null,nt(t.linksData,o=>(A(),L("path",{key:o.target.id,d:r.linkPathGenerator(o)},null,8,wa))),128))]),_("g",xa,[(A(!0),L(O,null,nt(t.nodesData,o=>(A(),L("g",{key:o.id,cursor:"pointer",onClick:a=>t.clickHandler(o),transform:`translate(${o.y}, ${o.x})`},[_("text",{dy:"0.35em",x:o.parent?"0.8em":"-0.8em","text-anchor":o.parent?"start":"end","font-weight":o.parent?"normal":"bold","stroke-linejoin":"round","stroke-width":"5",stroke:"#fff"},B(r.textGenerator(o)),9,ba),_("text",{dy:"0.35em",x:o.parent?"0.8em":"-0.8em","text-anchor":o.parent?"start":"end","font-weight":o.parent?"normal":"bold"},B(r.textGenerator(o)),9,ka),o.data.type==="post"?(A(),L("svg",za,Aa)):D("",!0),o.data.type==="folder"?(A(),L("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:o.children?"#93C5FD":"#60A5FA",viewBox:"0 0 16 16",x:"-0.6em",y:"-0.6em"},Ta,8,La)):D("",!0),o.data.type==="root"?(A(),L("svg",Na,Ea)):D("",!0),_("title",null,B(r.textGenerator(o,"full")),1)],8,Ca))),128))])],8,ya)],16,ma)),[[lt,n.layout==="tree"]]),at(_("div",Ha,[_("div",Fa,[_("button",{class:"p-3 select-none rounded flex items-center space-x-1 bg-gray-200 hover:bg-blue-500 text-gray-600 hover:text-white opacity-60 hover:opacity-100",title:"\u91CD\u7F6E\u7F29\u653E\u6BD4\u4F8B",onClick:e[0]||(e[0]=(...o)=>r.resizeTransform&&r.resizeTransform(...o))},Ra)])],512),[[lt,n.layout==="tree"]])],64)}var Ia=ee(_a,[["render",Ba]]);function Pa(t,e){let n={name:t,type:"root",parent:null,children:[]};const r=/\.md$/;return e.forEach(i=>{const s=i.filePathRelative.split("/").slice(1);let o=n,a=n.children;for(let c=0;c<s.length;c++){const l=s[c];let u=a.find(h=>h.name===l);if(u)o=u,a=u.children;else if(r.test(l)){const h={name:l,type:"post",parent:o,data:i};a.push(h)}else{const h={name:l,type:"folder",parent:o,children:[]};a.push(h),o=h,a=h.children}}}),n}const qa={components:{Navbar:Vn,Footer:Rn,FolderItem:ur,PostsTree:Ia,CollectionModal:Bn},setup(t){const e=Kt({bodyContainer:$e(null),navContainer:$e(null),treeWidth:0,treeHeight:0,folder:"",folderList:[],currentFolder:null,posts:[],postsTreeData:null,tags:[],currentTag:"",layout:"grid",sortType:"descend",sortByUpdated:!1,collectionModalOpen:!1,collection:null}),n=l=>{let u=[];e.posts.forEach(h=>{h.collection&&h.collection===l&&u.push(h)}),u.sort((h,d)=>{const g=h.date||h.createdTime,w=d.date||d.createdTime,x=h.collectionOrder,z=d.collectionOrder;return x&&z&&x!==z?x-z:g&&w?new Date(g)-new Date(w):0}),e.collection={title:l,posts:u},e.collectionModalOpen=!0},r=()=>{e.collectionModalOpen=!1,e.collection=null},i=l=>{if(!l)return;e.currentFolder=l;let u=[];u.unshift(e.currentFolder.name);let h=e.currentFolder;for(;h.parent;)u.unshift(h.parent.name),h=h.parent;let d=`${location.pathname}`;if(u.length>1){const g=`?folder=${u.slice(1).join("&folder=")}`;d=`${location.pathname}${g}`}history.pushState({url:d},"",d)},s=Fn();e.folder=s.value.frontmatter.folder,e.posts=s.value.postsData.posts,e.postsTreeData=Pa(e.folder,e.posts),e.currentFolder=e.postsTreeData,e.tags=["all",...s.value.postsData.tags],Jt(()=>{if(location.hash&&(e.currentTag=location.hash.slice(1)),location.search){const h=location.search.slice(1);if(e.folderList=new URLSearchParams(h).getAll("folder"),e.folderList.length>0){let d=e.postsTreeData;for(let g=0;g<e.folderList.length;g++){const w=e.folderList[g],x=d.children.find(z=>z.name===w);if(!x)break;d=x}e.currentFolder=d}}window.onhashchange=function(h){e.currentTag=location.hash.slice(1)};const l=()=>{e.treeWidth=e.bodyContainer.clientWidth,e.treeHeight=e.bodyContainer.clientHeight-e.navContainer.$el.clientHeight};Qt(()=>e.layout,(h,d)=>{h==="tree"&&Dn(()=>{l()})});let u=null;window.onresize=()=>{u&&clearTimeout(u),u=setTimeout(()=>{l(),u=null},300)}});const o=Tt(()=>{let l=e.currentFolder.children;return l.sort((u,h)=>{if(u.type==="folder"&&h.type==="folder")return h.children.length-u.children.length;if(u.type==="folder"&&h.type!=="folder")return-1;if(u.type!=="folder"&&h.type==="folder")return 1;if(u.type==="post"&&h.type==="post"){let d=null,g=null;return e.sortByUpdated?(d=u.updatedTime||u.date||u.createdTime,g=h.updatedTime||h.date||h.createdTime):(d=u.date||u.createdTime,g=h.date||h.createdTime),d&&g?e.sortType==="descend"?new Date(g)-new Date(d):new Date(d)-new Date(g):0}}),l}),a=Tt(()=>{let l=[];l.unshift(e.currentFolder);let u=e.currentFolder;for(;u.parent;)l.unshift(u.parent),u=u.parent;return l}),c=$t(e);return Wt(Lt({},c),{setCollectionHandler:n,closeCollectionModalHandler:r,setFolderHandler:i,folderContent:o,breadcrumb:a})}},Xa={class:"flex-grow"},Oa={class:"py-10 text-5xl font-bold text-center border-0"},Ya={key:0,class:"container p-10 mx-auto flex flex-wrap space-x-2"},Za=["href"],Ga=_("hr",{class:"container w-4/5 mx-auto"},null,-1),Ua={class:"container p-10 mx-auto flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:justify-between"},Wa={class:"flex items-center sm:space-x-2"},Ka=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{"fill-rule":"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"})],-1),Qa=_("span",{class:"text-xs hidden sm:block"},"Back",-1),Ja=[Ka,Qa],ja={class:"flex flex-wrap items-center space-x-1"},tl={key:0},el=["onClick"],nl={key:0,class:"hidden sm:block"},rl=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"})],-1),il=[rl],ol={key:1,class:"hidden sm:block"},sl=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 hidden sm:block",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"})],-1),al=[sl],ll={class:"text-xs"},ul={class:"flex items-center justify-between"},cl=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{"fill-rule":"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"})],-1),hl=_("span",{class:"text-xs hidden sm:block"},"Back",-1),fl=[cl,hl],dl={class:"flex items-center space-x-2"},pl=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M6 1H1v14h5V1zm9 0h-5v5h5V1zm0 9v5h-5v-5h5zM0 1a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm9 0a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V1zm1 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1h-5z"})],-1),gl=_("span",{class:"text-xs hidden sm:block"},"Grid",-1),_l=[pl,gl],ml=Te('<svg class="w-4 h-4" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 10C3.10218 10 2.72064 9.84196 2.43934 9.56066C2.15804 9.27936 2 8.89782 2 8.5L2 7.5C2 7.10218 2.15804 6.72064 2.43934 6.43934C2.72064 6.15804 3.10218 6 3.5 6L4.5 6C4.89782 6 5.27936 6.15804 5.56066 6.43934C5.84197 6.72064 6 7.10218 6 7.5L7 7.5L7 2C7 1.86739 7.05268 1.74021 7.14645 1.64645C7.24022 1.55268 7.36739 1.5 7.5 1.5L8.5 1.5C8.63261 1.5 8.75979 1.55268 8.85355 1.64645C8.94732 1.74021 9 1.86739 9 2C9 2.13261 8.94732 2.25979 8.85355 2.35355C8.75979 2.44732 8.63261 2.5 8.5 2.5L8 2.5L8 7.5L8.5 7.5C8.63261 7.5 8.75979 7.55268 8.85355 7.64645C8.94732 7.74021 9 7.86739 9 8C9 8.13261 8.94732 8.25979 8.85355 8.35355C8.75979 8.44732 8.63261 8.5 8.5 8.5L8 8.5L8 13.5L8.5 13.5C8.63261 13.5 8.75979 13.5527 8.85355 13.6464C8.94732 13.7402 9 13.8674 9 14C9 14.1326 8.94732 14.2598 8.85355 14.3536C8.75979 14.4473 8.63261 14.5 8.5 14.5L7.5 14.5C7.36739 14.5 7.24021 14.4473 7.14645 14.3536C7.05268 14.2598 7 14.1326 7 14L7 8.5L6 8.5C6 8.89782 5.84197 9.27936 5.56066 9.56066C5.27936 9.84196 4.89782 10 4.5 10L3.5 10ZM5 7.5C5 7.36739 4.94732 7.24021 4.85355 7.14645C4.75979 7.05268 4.63261 7 4.5 7L3.5 7C3.36739 7 3.24021 7.05268 3.14645 7.14645C3.05268 7.24021 3 7.36739 3 7.5L3 8.5C3 8.63261 3.05268 8.75979 3.14645 8.85355C3.24021 8.94732 3.36739 9 3.5 9L4.5 9C4.63261 9 4.75979 8.94732 4.85355 8.85355C4.94732 8.75979 5 8.63261 5 8.5L5 7.5ZM11.5 16C11.1022 16 10.7206 15.842 10.4393 15.5607C10.158 15.2794 10 14.8978 10 14.5L10 13.5C10 13.1022 10.158 12.7206 10.4393 12.4393C10.7206 12.158 11.1022 12 11.5 12L12.5 12C12.8978 12 13.2794 12.158 13.5607 12.4393C13.842 12.7206 14 13.1022 14 13.5L14 14.5C14 14.8978 13.842 15.2794 13.5607 15.5607C13.2794 15.842 12.8978 16 12.5 16L11.5 16ZM11 14.5C11 14.6326 11.0527 14.7598 11.1464 14.8536C11.2402 14.9473 11.3674 15 11.5 15L12.5 15C12.6326 15 12.7598 14.9473 12.8536 14.8536C12.9473 14.7598 13 14.6326 13 14.5L13 13.5C13 13.3674 12.9473 13.2402 12.8536 13.1464C12.7598 13.0527 12.6326 13 12.5 13L11.5 13C11.3674 13 11.2402 13.0527 11.1464 13.1464C11.0527 13.2402 11 13.3674 11 13.5L11 14.5ZM11.5 10C11.1022 10 10.7206 9.84197 10.4393 9.56066C10.158 9.27936 10 8.89782 10 8.5L10 7.5C10 7.10218 10.158 6.72064 10.4393 6.43934C10.7206 6.15804 11.1022 6 11.5 6L12.5 6C12.8978 6 13.2794 6.15804 13.5607 6.43934C13.842 6.72064 14 7.10218 14 7.5L14 8.5C14 8.89782 13.842 9.27936 13.5607 9.56066C13.2794 9.84197 12.8978 10 12.5 10L11.5 10ZM11 8.5C11 8.63261 11.0527 8.75979 11.1464 8.85355C11.2402 8.94732 11.3674 9 11.5 9L12.5 9C12.6326 9 12.7598 8.94732 12.8536 8.85355C12.9473 8.75979 13 8.63261 13 8.5L13 7.5C13 7.36739 12.9473 7.24021 12.8536 7.14645C12.7598 7.05268 12.6326 7 12.5 7L11.5 7C11.3674 7 11.2402 7.05268 11.1464 7.14645C11.0527 7.24021 11 7.36739 11 7.5L11 8.5ZM11.5 4C11.1022 4 10.7206 3.84197 10.4393 3.56066C10.158 3.27936 10 2.89782 10 2.5L10 1.5C10 1.10218 10.158 0.720644 10.4393 0.43934C10.7206 0.158035 11.1022 1.08542e-07 11.5 1.13286e-07L12.5 1.25211e-07C12.8978 1.29955e-07 13.2794 0.158035 13.5607 0.43934C13.842 0.720644 14 1.10218 14 1.5L14 2.5C14 2.89782 13.842 3.27936 13.5607 3.56066C13.2794 3.84197 12.8978 4 12.5 4L11.5 4ZM11 2.5C11 2.63261 11.0527 2.75979 11.1464 2.85355C11.2402 2.94732 11.3674 3 11.5 3L12.5 3C12.6326 3 12.7598 2.94732 12.8536 2.85355C12.9473 2.75979 13 2.63261 13 2.5L13 1.5C13 1.36739 12.9473 1.24021 12.8536 1.14645C12.7598 1.05268 12.6326 1 12.5 1L11.5 1C11.3674 1 11.2402 1.05268 11.1464 1.14645C11.0527 1.24021 11 1.36739 11 1.5L11 2.5Z"></path></g><defs><clipPath id="clip0"><rect width="16" height="16" fill="white" transform="translate(0 16) rotate(-90)"></rect></clipPath></defs></svg><span class="text-xs hidden sm:block">Tree</span>',2),yl=[ml],vl={key:1,class:"container p-8 mx-auto grid grid-flow-row-dense grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-2"},wl={class:"p-8 flex justify-between items-center fixed top-16 inset-x-0 z-10"},xl={class:"flex items-center space-x-2"},Cl=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{"fill-rule":"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"})],-1),bl=_("span",{class:"text-xs hidden sm:block"},"Back",-1),kl=[Cl,bl],zl=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"})],-1),Ml={class:"text-xs hidden sm:block"},Al={class:"flex items-center space-x-2"},Ll=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[_("path",{d:"M6 1H1v14h5V1zm9 0h-5v5h5V1zm0 9v5h-5v-5h5zM0 1a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm9 0a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V1zm1 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1h-5z"})],-1),$l=_("span",{class:"text-xs hidden sm:block"},"Grid",-1),Tl=[Ll,$l],Nl=Te('<svg class="w-4 h-4" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 10C3.10218 10 2.72064 9.84196 2.43934 9.56066C2.15804 9.27936 2 8.89782 2 8.5L2 7.5C2 7.10218 2.15804 6.72064 2.43934 6.43934C2.72064 6.15804 3.10218 6 3.5 6L4.5 6C4.89782 6 5.27936 6.15804 5.56066 6.43934C5.84197 6.72064 6 7.10218 6 7.5L7 7.5L7 2C7 1.86739 7.05268 1.74021 7.14645 1.64645C7.24022 1.55268 7.36739 1.5 7.5 1.5L8.5 1.5C8.63261 1.5 8.75979 1.55268 8.85355 1.64645C8.94732 1.74021 9 1.86739 9 2C9 2.13261 8.94732 2.25979 8.85355 2.35355C8.75979 2.44732 8.63261 2.5 8.5 2.5L8 2.5L8 7.5L8.5 7.5C8.63261 7.5 8.75979 7.55268 8.85355 7.64645C8.94732 7.74021 9 7.86739 9 8C9 8.13261 8.94732 8.25979 8.85355 8.35355C8.75979 8.44732 8.63261 8.5 8.5 8.5L8 8.5L8 13.5L8.5 13.5C8.63261 13.5 8.75979 13.5527 8.85355 13.6464C8.94732 13.7402 9 13.8674 9 14C9 14.1326 8.94732 14.2598 8.85355 14.3536C8.75979 14.4473 8.63261 14.5 8.5 14.5L7.5 14.5C7.36739 14.5 7.24021 14.4473 7.14645 14.3536C7.05268 14.2598 7 14.1326 7 14L7 8.5L6 8.5C6 8.89782 5.84197 9.27936 5.56066 9.56066C5.27936 9.84196 4.89782 10 4.5 10L3.5 10ZM5 7.5C5 7.36739 4.94732 7.24021 4.85355 7.14645C4.75979 7.05268 4.63261 7 4.5 7L3.5 7C3.36739 7 3.24021 7.05268 3.14645 7.14645C3.05268 7.24021 3 7.36739 3 7.5L3 8.5C3 8.63261 3.05268 8.75979 3.14645 8.85355C3.24021 8.94732 3.36739 9 3.5 9L4.5 9C4.63261 9 4.75979 8.94732 4.85355 8.85355C4.94732 8.75979 5 8.63261 5 8.5L5 7.5ZM11.5 16C11.1022 16 10.7206 15.842 10.4393 15.5607C10.158 15.2794 10 14.8978 10 14.5L10 13.5C10 13.1022 10.158 12.7206 10.4393 12.4393C10.7206 12.158 11.1022 12 11.5 12L12.5 12C12.8978 12 13.2794 12.158 13.5607 12.4393C13.842 12.7206 14 13.1022 14 13.5L14 14.5C14 14.8978 13.842 15.2794 13.5607 15.5607C13.2794 15.842 12.8978 16 12.5 16L11.5 16ZM11 14.5C11 14.6326 11.0527 14.7598 11.1464 14.8536C11.2402 14.9473 11.3674 15 11.5 15L12.5 15C12.6326 15 12.7598 14.9473 12.8536 14.8536C12.9473 14.7598 13 14.6326 13 14.5L13 13.5C13 13.3674 12.9473 13.2402 12.8536 13.1464C12.7598 13.0527 12.6326 13 12.5 13L11.5 13C11.3674 13 11.2402 13.0527 11.1464 13.1464C11.0527 13.2402 11 13.3674 11 13.5L11 14.5ZM11.5 10C11.1022 10 10.7206 9.84197 10.4393 9.56066C10.158 9.27936 10 8.89782 10 8.5L10 7.5C10 7.10218 10.158 6.72064 10.4393 6.43934C10.7206 6.15804 11.1022 6 11.5 6L12.5 6C12.8978 6 13.2794 6.15804 13.5607 6.43934C13.842 6.72064 14 7.10218 14 7.5L14 8.5C14 8.89782 13.842 9.27936 13.5607 9.56066C13.2794 9.84197 12.8978 10 12.5 10L11.5 10ZM11 8.5C11 8.63261 11.0527 8.75979 11.1464 8.85355C11.2402 8.94732 11.3674 9 11.5 9L12.5 9C12.6326 9 12.7598 8.94732 12.8536 8.85355C12.9473 8.75979 13 8.63261 13 8.5L13 7.5C13 7.36739 12.9473 7.24021 12.8536 7.14645C12.7598 7.05268 12.6326 7 12.5 7L11.5 7C11.3674 7 11.2402 7.05268 11.1464 7.14645C11.0527 7.24021 11 7.36739 11 7.5L11 8.5ZM11.5 4C11.1022 4 10.7206 3.84197 10.4393 3.56066C10.158 3.27936 10 2.89782 10 2.5L10 1.5C10 1.10218 10.158 0.720644 10.4393 0.43934C10.7206 0.158035 11.1022 1.08542e-07 11.5 1.13286e-07L12.5 1.25211e-07C12.8978 1.29955e-07 13.2794 0.158035 13.5607 0.43934C13.842 0.720644 14 1.10218 14 1.5L14 2.5C14 2.89782 13.842 3.27936 13.5607 3.56066C13.2794 3.84197 12.8978 4 12.5 4L11.5 4ZM11 2.5C11 2.63261 11.0527 2.75979 11.1464 2.85355C11.2402 2.94732 11.3674 3 11.5 3L12.5 3C12.6326 3 12.7598 2.94732 12.8536 2.85355C12.9473 2.75979 13 2.63261 13 2.5L13 1.5C13 1.36739 12.9473 1.24021 12.8536 1.14645C12.7598 1.05268 12.6326 1 12.5 1L11.5 1C11.3674 1 11.2402 1.05268 11.1464 1.14645C11.0527 1.24021 11 1.36739 11 1.5L11 2.5Z"></path></g><defs><clipPath id="clip0"><rect width="16" height="16" fill="white" transform="translate(0 16) rotate(-90)"></rect></clipPath></defs></svg><span class="text-xs hidden sm:block">Tree</span>',2),Sl=[Nl];function El(t,e,n,r,i,s){const o=dt("Navbar"),a=dt("folder-item"),c=dt("Footer"),l=dt("posts-tree"),u=dt("collection-modal");return A(),L("div",{ref:"bodyContainer",class:Q(["flex flex-col",{"min-h-screen":t.layout==="grid","h-screen":t.layout==="tree"}])},[jt(o,{ref:"navContainer",class:"flex-shrink-0 sticky top-0 z-20 bg-white","navbar-type":"folder"},null,512),at(_("main",Xa,[_("h2",Oa,B(t.folder.toUpperCase()),1),t.tags.length>0?(A(),L("div",Ya,[(A(!0),L(O,null,nt(t.tags,h=>(A(),L("a",{class:Q(["tag py-2 text-gray-400 hover:text-gray-600 text-sm font-bold",{"text-blue-400":t.currentTag===h}]),key:h,href:`#${h}`},"#"+B(h),11,Za))),128))])):D("",!0),Ga,_("div",Ua,[_("div",Wa,[_("button",{class:"p-3 select-none rounded hidden sm:flex items-center space-x-1 bg-gray-100 hover:bg-blue-500 text-gray-500 hover:text-white",title:"\u8FD4\u56DE",onClick:e[0]||(e[0]=h=>r.setFolderHandler(t.currentFolder.parent))},Ja),_("div",ja,[(A(!0),L(O,null,nt(r.breadcrumb,h=>(A(),L(O,{key:h.name},[h.type!=="root"?(A(),L("span",tl,"/")):D("",!0),_("button",{class:"p-1 select-none sm:p-3 rounded flex items-center space-x-1 text-gray-500 hover:text-white hover:bg-blue-500",onClick:d=>r.setFolderHandler(h)},[h.type==="root"?(A(),L("div",nl,il)):D("",!0),h.type==="folder"?(A(),L("div",ol,al)):D("",!0),_("span",ll,B(h.name),1)],8,el)],64))),128))])]),_("div",ul,[_("button",{class:"p-3 select-none rounded sm:hidden items-center space-x-1 bg-gray-100 hover:bg-blue-500 text-gray-500 hover:text-white",title:"\u8FD4\u56DE",onClick:e[1]||(e[1]=h=>r.setFolderHandler(t.currentFolder.parent))},fl),_("div",dl,[_("button",{class:Q(["p-3 select-none rounded flex items-center space-x-1",{"bg-blue-500 hover:bg-blue-600 text-white":t.layout==="grid","bg-gray-100 hover:bg-blue-500 text-gray-500 hover:text-white":t.layout!=="grid"}]),title:"\u7F51\u683C\u5E03\u5C40",onClick:e[2]||(e[2]=h=>t.layout="grid")},_l,2),_("button",{class:Q(["hidden p-3 select-none rounded sm:flex items-center space-x-1",{"bg-blue-500 hover:bg-blue-600 text-white":t.layout==="tree","bg-gray-100 hover:bg-blue-500 text-gray-500 hover:text-white":t.layout!=="tree"}]),title:"\u6811\u72B6\u5E03\u5C40",onClick:e[3]||(e[3]=h=>t.layout="tree")},yl,2)])])]),r.folderContent&&r.folderContent.length>0?at((A(),L("div",vl,[(A(!0),L(O,null,nt(r.folderContent,h=>(A(),te(a,{key:h.name,item:h,tag:t.currentTag,class:Q({"row-span-1":h.type==="post","row-span-2":h.type==="folder"&&h.children.length>3}),onSetCollection:r.setCollectionHandler,onSetFolder:r.setFolderHandler},null,8,["item","tag","class","onSetCollection","onSetFolder"]))),128))],512)),[[lt,t.layout==="grid"]]):D("",!0)],512),[[lt,t.layout==="grid"]]),at(jt(c,null,null,512),[[lt,t.layout==="grid"]]),jt(l,{layout:t.layout,width:t.treeWidth,height:t.treeHeight,"posts-data":t.currentFolder},null,8,["layout","width","height","posts-data"]),at(_("div",wl,[_("div",xl,[_("button",{class:"p-3 select-none rounded flex items-center space-x-1 bg-gray-200 hover:bg-blue-500 text-gray-600 hover:text-white opacity-60 hover:opacity-100",title:"\u8FD4\u56DE",onClick:e[4]||(e[4]=h=>r.setFolderHandler(t.currentFolder.parent))},kl),_("button",{class:"p-3 select-none rounded flex items-center space-x-0 sm:space-x-1 text-gray-600 hover:text-white bg-gray-200 hover:bg-blue-500 opacity-60 hover:opacity-100",onClick:e[5]||(e[5]=h=>r.setFolderHandler(t.postsTreeData))},[zl,_("span",Ml,B(t.folder),1)])]),_("div",Al,[_("button",{class:Q(["p-3 select-none rounded flex items-center space-x-0 sm:space-x-1 opacity-60 hover:opacity-100 hover:bg-blue-500 hover:text-white",{"bg-blue-500 text-white":t.layout==="grid","bg-gray-200 text-gray-600 ":t.layout!=="grid"}]),title:"\u7F51\u683C\u5E03\u5C40",onClick:e[6]||(e[6]=h=>t.layout="grid")},Tl,2),_("button",{class:Q(["hidden p-3 select-none rounded sm:flex items-center space-x-0 sm:space-x-1 opacity-60 hover:opacity-100 hover:bg-blue-500 hover:text-white",{"bg-blue-500 text-white":t.layout==="tree","bg-gray-200 text-gray-600":t.layout!=="tree"}]),title:"\u6811\u72B6\u5E03\u5C40",onClick:e[7]||(e[7]=h=>t.layout="tree")},Sl,2)])],512),[[lt,t.layout==="tree"]]),(A(),te(Hn,{to:"body"},[t.collectionModalOpen&&t.collection?(A(),te(u,{key:0,collection:t.collection,onCloseCollectionModal:r.closeCollectionModalHandler},null,8,["collection","onCloseCollectionModal"])):D("",!0)]))],2)}var Il=ee(qa,[["render",El]]);export{Il as default};
